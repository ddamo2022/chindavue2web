(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"19b5":function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return c})),t.d(n,"a",(function(){return o}));var o={uniPopup:function(){return Promise.all([t.e("common/vendor"),t.e("components/uni-popup/uni-popup")]).then(t.bind(null,"8669"))}},r=function(){var e=this,n=e.$createElement,t=(e._self._c,e.showloading||1!=e.layout.pageSetting.styles.navOpen?null:e.$t("pagetitle.Membership"));e._isMounted||(e.e0=function(n){e.xkzxshow=!1},e.e1=function(n){e.wcshow=!1},e.e2=function(n){e.srshow=!1}),e.$mp.data=Object.assign({},{$root:{m0:t}})},c=[]},"32ea":function(e,n,t){},5010:function(e,n,t){"use strict";(function(e,o){var r=t("47a9");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=r(t("7eb4")),i=r(t("ee10")),u=r(t("7ca3")),a=(t("e19d"),t("cc12")),s=t("8f59"),l=r(t("77a5"));function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,u.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p={name:"index",components:{uniNavBar:function(){t.e("components/third/uni-nav-bar").then(function(){return resolve(t("c474"))}.bind(null,t)).catch(t.oe)},picLunboBy:function(){t.e("components/drag/picLunbo").then(function(){return resolve(t("7630"))}.bind(null,t)).catch(t.oe)},mInfo:function(){t.e("components/drag/m-info/m-info").then(function(){return resolve(t("f5d1"))}.bind(null,t)).catch(t.oe)},HZone:function(){Promise.all([t.e("common/vendor"),t.e("components/drag/hot")]).then(function(){return resolve(t("50d6"))}.bind(null,t)).catch(t.oe)},pImg:function(){t.e("components/drag/pictures").then(function(){return resolve(t("63dc"))}.bind(null,t)).catch(t.oe)},iShop:function(){t.e("components/drag/i-shop/i-shop").then(function(){return resolve(t("284e"))}.bind(null,t)).catch(t.oe)},sNotice:function(){t.e("components/drag/notice").then(function(){return resolve(t("52a4"))}.bind(null,t)).catch(t.oe)},bGroup:function(){Promise.all([t.e("common/vendor"),t.e("components/drag/btn")]).then(function(){return resolve(t("a506"))}.bind(null,t)).catch(t.oe)},lWire:function(){t.e("components/drag/lines").then(function(){return resolve(t("205c"))}.bind(null,t)).catch(t.oe)},bTit:function(){t.e("components/drag/titles").then(function(){return resolve(t("16f6"))}.bind(null,t)).catch(t.oe)},mGic:function(){t.e("components/drag/margic").then(function(){return resolve(t("144c"))}.bind(null,t)).catch(t.oe)},mBale:function(){t.e("components/drag/myBalance").then(function(){return resolve(t("f65c"))}.bind(null,t)).catch(t.oe)},oStatus:function(){t.e("components/drag/o-status").then(function(){return resolve(t("6f34"))}.bind(null,t)).catch(t.oe)},gProduct:function(){t.e("components/drag/product/product").then(function(){return resolve(t("3fea"))}.bind(null,t)).catch(t.oe)},aTion:function(){t.e("components/drag/attenTion").then(function(){return resolve(t("47fd"))}.bind(null,t)).catch(t.oe)},lNav:function(){t.e("components/drag/listNav").then(function(){return resolve(t("1711"))}.bind(null,t)).catch(t.oe)},load:function(){t.e("components/common/load").then(function(){return resolve(t("1332"))}.bind(null,t)).catch(t.oe)},openList:function(){Promise.all([t.e("common/vendor"),t.e("components/drag/open")]).then(function(){return resolve(t("8500"))}.bind(null,t)).catch(t.oe)},sqBtn:function(){Promise.all([t.e("common/vendor"),t.e("components/common/sq-btn")]).then(function(){return resolve(t("c52b"))}.bind(null,t)).catch(t.oe)},iAd:function(){Promise.all([t.e("common/vendor"),t.e("components/drag/ad")]).then(function(){return resolve(t("a7cc"))}.bind(null,t)).catch(t.oe)},nOrder:function(){t.e("components/drag/onOrder").then(function(){return resolve(t("29d8"))}.bind(null,t)).catch(t.oe)},sPoint:function(){t.e("components/drag/setPoint").then(function(){return resolve(t("9f26"))}.bind(null,t)).catch(t.oe)},tcyhq:function(){Promise.all([t.e("common/vendor"),t.e("components/template/tcyhq")]).then(function(){return resolve(t("783a"))}.bind(null,t)).catch(t.oe)},userPrivacy:function(){t.e("components/user/userPrivacy").then(function(){return resolve(t("50b8"))}.bind(null,t)).catch(t.oe)},customVideo:function(){t.e("components/drag/custom-video").then(function(){return resolve(t("3bc2"))}.bind(null,t)).catch(t.oe)},rollPackage:function(){t.e("components/drag/rollPackage").then(function(){return resolve(t("bd57"))}.bind(null,t)).catch(t.oe)},returnOrder:function(){t.e("pages/index/index/returnOrder").then(function(){return resolve(t("ac0a"))}.bind(null,t)).catch(t.oe)},bindMobile:function(){t.e("components/common/bind-mobile").then(function(){return resolve(t("558f"))}.bind(null,t)).catch(t.oe)}},data:function(){return{showloading:!0,indexAd:[],xkzxshow:!1,xkzxInfo:"",wcshow:!1,wcInfo:"",wccdd:[],rollOrder:[],privacyShow:!1,srshow:!0,startOrder:"",cInfo:""}},computed:f({},(0,s.mapState)({layout:function(e){return e.layout.index||{}},firing:function(e){return e.layout.firing||{}},orderCollect:function(e){return e.layout.orderCollect||{}},basicSetting:function(e){return e.config.basicSetting}})),onLoad:function(e){var n=this;return(0,i.default)(c.default.mark((function t(){var o;return c.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e||!e.linecode){t.next=3;break}return t.next=3,n.checkLineCode(e.linecode);case 3:return t.next=5,n.init();case 5:n.query=e,e&&e.partnerId?n.fxsId=e.partnerId:e.q&&decodeURIComponent(e.q).indexOf("partnerId")>-1&&(o=decodeURIComponent(e.q),n.fxsId=l.default.getUrlParams(o)["partnerId"]);case 7:case"end":return t.stop()}}),t)})))()},onShow:function(){},onReady:function(){var n=this;e.getPrivacySetting({success:function(e){e.needAuthorization&&n.$refs.privacy.open(e.privacyContractName)},fail:function(){},complete:function(e){console.log(e)}})},methods:f(f({},(0,s.mapActions)(["getConfig","checkLineCode"])),{},{init:function(){var e=this;return(0,i.default)(c.default.mark((function n(){return c.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.getLoginInfo().then((function(){console.log("fx",e.fxsId,e.isLogin),e.fxsId&&!e.isLogin&&e.$refs["sqBtn"].openf(e.fxsId)}));case 2:return n.next=4,e.getLayout();case 4:return e.showloading=!1,n.next=7,e.getConfig({ident:["basicSetting","storeBasicSetting","orderSetting","inStoreOrderConfig","birthdayGift"]});case 7:if(e.util.setNT(e.layout.pageSetting.styles.navTitle||"首页"),e.getDw(),!o.getStorageSync("token")){n.next=12;break}return n.next=12,e.getCinfo();case 12:return n.next=14,e.gAd();case 14:return e.layout&&e.layout.list&&(e.layout.list.find((function(e){return"orderState"==e.name}))&&e.gOrder(),e.layout.list.find((function(e){return"rollPackage"==e.name}))&&e.gRollOrder()),e.gStartOrder(),n.next=18,e.getGift();case 18:e.isLogin&&!e.user.mobile&&e.$refs["bindmobile"].open();case 19:case"end":return n.stop()}}),n)})))()},linelogin:function(e,n){var t=this;return(0,i.default)(c.default.mark((function o(){var r;return c.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.util.request({url:t.api.lineLogin,method:"post",data:{id:e,name:n}});case 2:r=o.sent,r.data&&(t.$store.commit("setUser",r.data.userInfo),t.$store.commit("setToken",r.data.token));case 4:case"end":return o.stop()}}),o)})))()},sqsjh:function(){this.$refs["sqBtn"].openf(this.fxsId)},getCinfo:function(){var e=this;return(0,i.default)(c.default.mark((function n(){var t;return c.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([e.util.request({url:e.api.xkzx}),e.util.request({url:e.api.wc,data:{pos:1}})]);case 2:t=n.sent,console.log("res",t),t[0].data&&(e.xkzxInfo=t[0].data,setTimeout((function(){e.xkzxshow=!0}),400)),t[1].data&&(e.wcInfo=t[1].data,setTimeout((function(){e.wcshow=!0}),400));case 6:case"end":return n.stop()}}),n)})))()},gAd:function(){var e=this;return(0,i.default)(c.default.mark((function n(){var t,o;return c.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.util.request({url:e.api.gglb,data:{location:1}});case 2:t=n.sent,o=t.data,e.indexAd=o?o.window:[],console.log("ad",o);case 6:case"end":return n.stop()}}),n)})))()},gOrder:function(){var e=this;return(0,i.default)(c.default.mark((function n(){var t,o;return c.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.util.request({url:e.api.wwdd});case 2:t=n.sent,o=t.data,e.wccdd=o?o.list:[],console.log("wccdd",o);case 6:case"end":return n.stop()}}),n)})))()},gRollOrder:function(){var e=this;return(0,i.default)(c.default.mark((function n(){var t,o;return c.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.util.request({url:e.api.couponPack});case 2:t=n.sent,o=t.data,e.rollOrder=o?o.list:[];case 5:case"end":return n.stop()}}),n)})))()},gStartOrder:function(){var e=this;return(0,i.default)(c.default.mark((function n(){var t,o;return c.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.util.request({url:e.api.startOrder});case 2:t=n.sent,o=t.data,e.startOrder=o;case 5:case"end":return n.stop()}}),n)})))()},goOrder:function(){o.navigateTo({url:"/pages/shop/in/goods?tableId=".concat(this.startOrder.tableId,"&storeId=").concat(this.startOrder.storeId)})},getDw:function(){(0,a.getDw)({t:0})},getGift:function(){var e=this;return(0,i.default)(c.default.mark((function n(){var t,o;return c.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.util.request({url:e.api.getGift});case 2:t=n.sent,o=t.data,o&&(console.log(o),e.cInfo=o,e.wcshow||e.$refs["popupShare"].open());case 5:case"end":return n.stop()}}),n)})))()},opencoupon:function(){this.cInfo.memberCouponId&&(this.go({t:1,url:"/pages/other/coupon/couponList?couponId=".concat(this.cInfo.memberCouponId)}),this.$refs["popupShare"].close())}}),onShareAppMessage:function(){return this.util.mpShare({t:this.basicSetting.appletTitle,i:this.getImgS(this.basicSetting.appletPicture)})},onShareTimeline:function(e){return{title:this.basicSetting.appletTitle,imageUrl:this.getImgS(this.basicSetting.appletPicture)}}};n.default=p}).call(this,t("3223")["default"],t("df3c")["default"])},"8fc7":function(e,n,t){"use strict";t.r(n);var o=t("5010"),r=t.n(o);for(var c in o)["default"].indexOf(c)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(c);n["default"]=r.a},a793:function(e,n,t){"use strict";t.r(n);var o=t("19b5"),r=t("8fc7");for(var c in r)["default"].indexOf(c)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(c);t("edb5");var i=t("828b"),u=Object(i["a"])(r["default"],o["b"],o["c"],!1,null,"3a0ab3e8",null,!1,o["a"],void 0);n["default"]=u.exports},ec61:function(e,n,t){"use strict";(function(e,n){var o=t("47a9");t("b483");o(t("3240"));var r=o(t("a793"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(r.default)}).call(this,t("3223")["default"],t("df3c")["createPage"])},edb5:function(e,n,t){"use strict";var o=t("32ea"),r=t.n(o);r.a}},[["ec61","common/runtime","common/vendor"]]]);