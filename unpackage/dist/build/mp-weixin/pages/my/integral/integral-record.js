(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/integral/integral-record"],{4631:function(e,t,n){"use strict";(function(e){var a=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("7eb4")),i=a(n("ee10")),s=(n("8f59"),n("d468")),u={name:"integralRecord",components:{navTab:function(){n.e("components/common/functionCmp/nav-tab").then(function(){return resolve(n("1b29"))}.bind(null,n)).catch(n.oe)},jzz:function(){n.e("components/common/jzz").then(function(){return resolve(n("4f31"))}.bind(null,n)).catch(n.oe)},iDefault:function(){n.e("components/common/default").then(function(){return resolve(n("1c4b"))}.bind(null,n)).catch(n.oe)},Pay:function(){Promise.all([n.e("common/vendor"),n.e("components/pay/pay")]).then(function(){return resolve(n("1e12"))}.bind(null,n)).catch(n.oe)}},data:function(){return{aIdx:0,tabs:[{name:this.$t("integral.all"),value:""},{name:this.$t("integral.pending_shipment"),value:"unDelivery"},{name:this.$t("integral.pending_receipt"),value:"delivery"},{name:this.$t("integral.completed"),value:"complete"}],dataList:[],params:{page:1,size:10,state:""}}},onLoad:function(e){this.getSystem(),this.util.setNT(this.$t("integral.redemption_record")),this.aIdx=+e.idx||0,this.changeTab(this.aIdx)},mixins:[s.sljz],computed:{jfName:function(){return this.system.custom.integral||this.$t("integral.points")}},methods:{getList:function(){var e=this;return(0,i.default)(r.default.mark((function t(){var n,a;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:e.api.jfdd,data:e.params});case 2:n=t.sent,a=n.data.list,e.dataList=e.dataList.concat(a),e.isget=!0,e.mygd=e.params.size>a.length,e.params.page++;case 8:case"end":return t.stop()}}),t)})))()},changeTab:function(e){this.isget=this.mygd=!1,this.params.page=1;var t="";switch(e){case 0:t="";break;case 1:t="unDelivery";break;case 2:t="delivery";break;case 3:t="complete";break}this.params.state=t,this.dataList=[],this.getList()},qxdd:function(e){var t=this;return(0,i.default)(r.default.mark((function n(){var a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.util.modal(t.$t("integral.are_you_sure_to_cancel_order"));case 3:return n.next=5,t.util.request({url:"".concat(t.api.jfscqx,"/").concat(e),mask:1,method:"POST"});case 5:a=n.sent,a&&(t.util.message(a.msg,1,1e3),t.changeTab(t.aIdx)),n.next=11;break;case 9:n.prev=9,n.t0=n["catch"](0);case 11:case"end":return n.stop()}}),n,null,[[0,9]])})))()},ljzf:function(e){var t=this;return(0,i.default)(r.default.mark((function n(){return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e&&e.orderSn&&t.$refs["Pay"].open(JSON.stringify({orderSn:e.orderSn,orderType:5}));case 1:case"end":return n.stop()}}),n)})))()},sqtk:function(e){var t=this;return(0,i.default)(r.default.mark((function n(){var a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.util.modal(t.$t("integral.are_you_sure_to_apply_for_refund"));case 3:return n.next=5,t.util.request({url:"".concat(t.api.jfsctk,"/").concat(e),mask:1,method:"POST"});case 5:a=n.sent,a&&(t.util.message(a.msg,1,1e3),t.changeTab(t.aIdx)),n.next=11;break;case 9:n.prev=9,n.t0=n["catch"](0);case 11:case"end":return n.stop()}}),n,null,[[0,9]])})))()},qrsh:function(e){var t=this;return(0,i.default)(r.default.mark((function n(){var a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.util.modal(t.$t("integral.are_you_sure_to_confirm_receipt"));case 3:return n.next=5,t.util.request({url:"".concat(t.api.jfqrsh,"/").concat(e),mask:1,method:"POST"});case 5:a=n.sent,a&&(t.util.message(a.msg,1,1e3),t.changeTab(t.aIdx)),n.next=11;break;case 9:n.prev=9,n.t0=n["catch"](0);case 11:case"end":return n.stop()}}),n,null,[[0,9]])})))()},wyqh:function(e){var t=this;return(0,i.default)(r.default.mark((function n(){var a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.util.modal(t.$t("integral.have_you_received_the_goods"));case 3:return n.next=5,t.util.request({url:"".concat(t.api.jfqrsh,"/").concat(e),mask:1,method:"POST"});case 5:a=n.sent,a&&(t.util.message(a.msg,1,1e3),t.changeTab(t.aIdx)),n.next=11;break;case 9:n.prev=9,n.t0=n["catch"](0);case 11:case"end":return n.stop()}}),n,null,[[0,9]])})))()}},onPullDownRefresh:function(){var t=this;return(0,i.default)(r.default.mark((function n(){return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.showloading=!0,n.next=3,t.changeTab(t.aIdx);case 3:t.showloading=!1,e.stopPullDownRefresh();case 5:case"end":return n.stop()}}),n)})))()}};t.default=u}).call(this,n("df3c")["default"])},c65b:function(e,t,n){"use strict";var a=n("cbe7"),r=n.n(a);r.a},cbe7:function(e,t,n){},cdd0:function(e,t,n){"use strict";n.r(t);var a=n("4631"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},d487:function(e,t,n){"use strict";(function(e,t){var a=n("47a9");n("b483");a(n("3240"));var r=a(n("f1f3"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(r.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},f1f3:function(e,t,n){"use strict";n.r(t);var a=n("f5a5"),r=n("cdd0");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("c65b");var s=n("828b"),u=Object(s["a"])(r["default"],a["b"],a["c"],!1,null,"056cc394",null,!1,a["a"],void 0);t["default"]=u.exports},f5a5:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var a={pay:function(){return Promise.all([n.e("common/vendor"),n.e("components/pay/pay")]).then(n.bind(null,"1e12"))}},r=function(){var e=this,t=e.$createElement,n=(e._self._c,e.$t("integral.order_number")),a=e.__map(e.dataList,(function(t,n){var a=e.__get_orig(t),r=t.goods&&t.goods.integral>0?e.$t("integral.points"):null,i=t.goods?e.$t("integral.total_pieces"):null,s=t.goods?e.$t("integral.pieces"):null,u=t.goods?e.$t("integral.actual_payment"):null,c=t.goods&&t.goods.integral>0?e.$t("integral.points"):null,o=1==t.state?e.$t("integral.cancel_order"):null,l=1==t.state?e.$t("integral.pay_now"):null,d=2==t.state&&2!=t.diningType?e.$t("integral.apply_for_refund"):null,f=3==t.state&&1==t.diningType?e.$t("integral.confirm_receipt"):null,p=2==t.state&&2==t.diningType?e.$t("integral.self_pickup_order"):null,m=2==t.state&&2==t.diningType&&t.qrCode?e.$t("integral.verification_code"):null,g=2==t.state&&2==t.diningType&&2==t.state?e.$t("integral.apply_for_refund"):null,h=2==t.state&&2==t.diningType&&"4"!=t.state?e.$t("integral.i_have_picked_up"):null;return{$orig:a,m1:r,m2:i,m3:s,m4:u,m5:c,m6:o,m7:l,m8:d,m9:f,m10:p,m11:m,m12:g,m13:h}})),r=e.dataList.length,i=0==e.dataList.length&&e.isget;e.$mp.data=Object.assign({},{$root:{m0:n,l0:a,g0:r,g1:i}})},i=[]}},[["d487","common/runtime","common/vendor"]]]);