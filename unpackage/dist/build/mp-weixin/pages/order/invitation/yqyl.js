(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/invitation/yqyl"],{"0011":function(t,n,e){"use strict";e.r(n);var a=e("b098"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(r);n["default"]=i.a},"2d2e":function(t,n,e){},"4daa":function(t,n,e){"use strict";var a=e("2d2e"),i=e.n(a);i.a},b098:function(t,n,e){"use strict";var a=e("47a9");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("7eb4")),r=a(e("ee10")),o=(e("8f59"),a(e("77a5"))),s=e("d468"),c={name:"order-yqyl",components:{mgShare:function(){e.e("components/template/share").then(function(){return resolve(e("dbf7"))}.bind(null,e)).catch(e.oe)},sqBtn:function(){Promise.all([e.e("common/vendor"),e.e("components/common/sq-btn")]).then(function(){return resolve(e("c52b"))}.bind(null,e)).catch(e.oe)},tcyhq:function(){Promise.all([e.e("common/vendor"),e.e("components/template/tcyhq")]).then(function(){return resolve(e("783a"))}.bind(null,e)).catch(e.oe)},uniNavBar:function(){e.e("components/third/uni-nav-bar").then(function(){return resolve(e("c474"))}.bind(null,e)).catch(e.oe)}},data:function(){return{showLoading:!0,ldxInfo:"",hdInfo:{},partyAid:"",activityId:"",shareshow:!1,srshow:!1}},onLoad:function(t){var n=this;return(0,r.default)(i.default.mark((function e(){var a;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.util.setNT("邀请有礼"),e.next=3,n.getLoginInfo();case 3:console.log("options",t),t&&t.partyAid&&t.partyAid!=n.user.id?(n.partyAid=t.partyAid,n.getDataB()):t.q&&decodeURIComponent(t.q).indexOf("partyAid")>-1?(a=decodeURIComponent(t.q),n.partyAid=o.default.getUrlParams(a)["partyAid"],n.partyAid==n.user.id?n.getData():n.getDataB()):n.getData();case 5:case"end":return e.stop()}}),e)})))()},mixins:[s.utilMixins],computed:{},methods:{gojl:function(){this.go({t:1,url:"/pages/order/invitation/yqjl?activityId=".concat(this.ldxInfo&&this.ldxInfo.activity&&this.ldxInfo.activity.id)})},gogz:function(){this.go({t:1,url:"/pages/order/invitation/yqgz"})},goHb:function(){this.shareshow=!1,this.go({t:1,url:"/pages/order/invitation/yqhb?id=".concat(this.ldxInfo&&this.ldxInfo.activity&&this.ldxInfo.activity.id)})},ljyq:function(t){var n=this;return(0,r.default)(i.default.mark((function t(){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.isLogin){t.next=2;break}return t.abrupt("return",n.$refs["sqBtn"].open());case 2:n.shareshow=!0;case 3:case"end":return t.stop()}}),t)})))()},getData:function(){var t=this;return(0,r.default)(i.default.mark((function n(){var e,a;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.partyAid="",n.next=3,t.util.request({url:t.api.ldx});case 3:e=n.sent,a=e.data,t.ldxInfo=a,t.hdInfo=a.activity||{};case 7:case"end":return n.stop()}}),n)})))()},getDataB:function(){var t=this;return(0,r.default)(i.default.mark((function n(){var e,a;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.util.request({url:t.api.ldxb,data:{partyAid:t.partyAid}});case 2:e=n.sent,a=e.data,t.ldxInfo=a,t.hdInfo=a.activity||{};case 6:case"end":return n.stop()}}),n)})))()},goSave:function(){var t=this;return(0,r.default)(i.default.mark((function n(){var e,a,r,o;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.isLogin){n.next=2;break}return n.abrupt("return",t.$refs["sqBtn"].open(t.partyAid));case 2:return n.next=4,t.util.request({url:t.api.ldxb,method:"POST",data:{partyAid:t.partyAid}});case 4:e=n.sent,a=e.data,r=e.msg,o=e.code,a&&200==o&&(t.hdInfo&&t.hdInfo.partyB&&t.hdInfo.partyB.partyB&&t.hdInfo.partyB.partyB.switch&&(t.hdInfo.partyB.partyB.integralSwitch||t.hdInfo.partyB.partyB.couponSwitch)?(t.srshow=!0,t.getDataB()):(t.util.message(r,3),t.getDataB()));case 9:case"end":return n.stop()}}),n)})))()},cj:function(){this.srshow=!1,this.getData()},xd:function(){this.go({t:6,url:"/pages/index/goods"})},handReturn:function(){this.go({t:6,url:"/pages/index/index"})}},onPageScroll:function(t){if(!(this.opcity>=1&&t.scrollTop/64>=1)){var n=t.scrollTop/64;this.opcity=n}},onShareAppMessage:function(){if(this.shareshow=!1,this.ldxInfo&&this.ldxInfo.partyA){var t="pages/order/invitation/yqyl?partyAid=".concat(this.ldxInfo.partyA&&this.ldxInfo.partyA.userId,"&activityId=").concat(this.ldxInfo.activity&&this.ldxInfo.activity.id);return this.util.mpShare({t:this.ldxInfo&&this.ldxInfo.activity&&this.ldxInfo.activity.shearPage&&this.ldxInfo.activity.shearPage.title,i:this.ldxInfo&&this.ldxInfo.activity&&this.ldxInfo.activity.shearPage&&this.getSingleImg(this.ldxInfo.activity.shearPage.bg),p:t})}}};n.default=c},bdc3:function(t,n,e){"use strict";(function(t,n){var a=e("47a9");e("b483");a(e("3240"));var i=a(e("fda5"));t.__webpack_require_UNI_MP_PLUGIN__=e,n(i.default)}).call(this,e("3223")["default"],e("df3c")["createPage"])},ef60:function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){}));var a=function(){var t=this,n=t.$createElement;t._self._c;t._isMounted||(t.e0=function(n){t.srshow=!1})},i=[]},fda5:function(t,n,e){"use strict";e.r(n);var a=e("ef60"),i=e("0011");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(r);e("4daa");var o=e("828b"),s=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,"ba04fdcc",null,!1,a["a"],void 0);n["default"]=s.exports}},[["bdc3","common/runtime","common/vendor"]]]);