(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/other/register"],{"0091":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,r=(e._self._c,e.$t("registration.welcome_message")),n=1==e.type?e.$t("registration.enter_phone_number"):null,a=1!=e.type?e.$t("registration.enter_email"):null,s=e.$t("registration.enter_verification_code"),i=e.time<=0?null:e.$t("sq-btn.sent"),o=e.$t("registration.enter_password"),u=e.$t("registration.enter_confirm_password"),c=e.$t("registration.register_and_login"),l=1==e.type?e.$t("registration.register_with_email"):null,d=1!=e.type?e.$t("registration.register_with_phone"):null;e.$mp.data=Object.assign({},{$root:{m0:r,m1:n,m2:a,m3:s,m4:i,m5:o,m6:u,m7:c,m8:l,m9:d}})},a=[]},"376a":function(e,t,r){"use strict";r.r(t);var n=r("0091"),a=r("3e10");for(var s in a)["default"].indexOf(s)<0&&function(e){r.d(t,e,(function(){return a[e]}))}(s);r("9475");var i=r("828b"),o=Object(i["a"])(a["default"],n["b"],n["c"],!1,null,"69cb6d1e",null,!1,n["a"],void 0);t["default"]=o.exports},"3e10":function(e,t,r){"use strict";r.r(t);var n=r("794a"),a=r.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(s);t["default"]=a.a},"794a":function(e,t,r){"use strict";(function(e){var n=r("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("7eb4")),s=n(r("ee10")),i=n(r("7ca3")),o=n(r("77a5")),u=r("8f59");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={data:function(){return{type:1,disabled:!1,time:0,btntxt:this.$t("sq-btn.send_verification_code"),telcode:"+66",code:"",email:"",phone:"",password:"",respassword:"",isSending:!1}},components:{uniNavBar:function(){r.e("components/third/uni-nav-bar").then(function(){return resolve(r("c474"))}.bind(null,r)).catch(r.oe)}},methods:l(l({},(0,u.mapMutations)(["setMobile","setToken","setUser"])),{},{selecttype:function(e){this.time=0,this.type=e},timer:function(){this.time>0?(this.time--,this.btntxt=this.time+this.$t("sq-btn.seconds"),setTimeout(this.timer,1e3)):(this.time=0,this.btntxt=this.$t("sq-btn.send_verification_code"))},sendcode:function(e){var t=this;return(0,s.default)(a.default.mark((function e(){var r;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(1==t.type&&t.phone.length<7)){e.next=2;break}return e.abrupt("return",t.util.message(t.$t("registration.enter_phone_number"),3));case 2:if(0!=t.type||t.email){e.next=4;break}return e.abrupt("return",t.util.message(t.$t("registration.enter_email"),3));case 4:return t.isSending=!0,e.next=7,t.util.request({url:t.api.sendRegisterCode,method:"POST",mask:t.$t("password_reset.sending"),data:{phone:1==t.type?t.telcode+t.phone:"",email:0==t.type?t.email:"",type:t.type}});case 7:r=e.sent,t.isSending=!1,console.log("1212",r),r&&200==r.code&&(t.time=60,t.timer());case 11:case"end":return e.stop()}}),e)})))()},save:function(){var t=this;return(0,s.default)(a.default.mark((function r(){var n,s;return a.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(1==t.type&&t.phone.length<7)){r.next=2;break}return r.abrupt("return",t.util.message(t.$t("password_reset.enter_phone_number"),3));case 2:if(0!=t.type||t.email){r.next=4;break}return r.abrupt("return",t.util.message(t.$t("password_reset.enter_email"),3));case 4:if(0!=t.type||!t.email||o.default.isEmail(t.email)){r.next=6;break}return r.abrupt("return",t.util.message(t.$t("password_reset.enter_email"),3));case 6:if(t.code){r.next=8;break}return r.abrupt("return",t.util.message(t.$t("password_reset.enter_verification_code"),3));case 8:if(t.password){r.next=10;break}return r.abrupt("return",t.util.message(t.$t("registration.enter_password"),3));case 10:if(t.password==t.respassword){r.next=12;break}return r.abrupt("return",t.util.message(t.$t("registration.passwords_do_not_match"),3));case 12:return t.disabled=!0,r.next=15,t.util.request({url:t.api.emailRegister,method:"post",mask:t.$t("password_reset.saving"),data:{type:t.type,phone:1==t.type?t.telcode+t.phone:"",email:0==t.type?t.email:"",code:t.code,password:t.password}});case 15:n=r.sent,t.disabled=!1,n.data&&(console.log("rest",n.data.token),t.setToken(n.data.token),t.setUser(n.data.userInfo),t.util.message(t.$t("sq-btn.login_successful"),1,1e3),s=e.getStorageSync("redirectPath")||"/",e.removeStorageSync("redirectPath"),e.reLaunch({url:s}));case 18:case"end":return r.stop()}}),r)})))()}})};t.default=d}).call(this,r("df3c")["default"])},9475:function(e,t,r){"use strict";var n=r("b092"),a=r.n(n);a.a},b092:function(e,t,r){},cc91:function(e,t,r){"use strict";(function(e,t){var n=r("47a9");r("b483");n(r("3240"));var a=n(r("376a"));e.__webpack_require_UNI_MP_PLUGIN__=r,t(a.default)}).call(this,r("3223")["default"],r("df3c")["createPage"])}},[["cc91","common/runtime","common/vendor"]]]);