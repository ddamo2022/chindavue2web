(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/other/wifi"],{"2da1":function(e,t,i){"use strict";(function(e,t){var n=i("47a9");i("b483");n(i("3240"));var o=n(i("6530f"));e.__webpack_require_UNI_MP_PLUGIN__=i,t(o.default)}).call(this,i("3223")["default"],i("df3c")["createPage"])},"597c":function(e,t,i){"use strict";var n=i("a9fc"),o=i.n(n);o.a},"6530f":function(e,t,i){"use strict";i.r(t);var n=i("683f"),o=i("9e07");for(var r in o)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(r);i("597c");var s=i("828b"),c=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"01c08bee",null,!1,n["a"],void 0);t["default"]=c.exports},"683f":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,i=(e._self._c,e.sjxx&&e.sjxx.id&&e.connectedWifi&&e.connectedWifi.name?e.$t("wifi.wifi_name"):null),n=!e.sjxx||!e.sjxx.id||e.connectedWifi&&e.connectedWifi.name?null:e.$t("wifi.no_wifi_info"),o=e.sjxx&&e.sjxx.id&&e.connectedWifi&&e.connectedWifi.password?e.$t("wifi.wifi_password"):null,r=e.sjxx&&e.sjxx.id?e.$t("wifi.quick_connect"):null,s=e.sjxx&&e.sjxx.id&&e.cWifi&&e.cWifi.SSID?e.$t("wifi.phone_wifi_connected"):null,c=e.sjxx&&e.sjxx.id&&e.connectedWifi&&e.connectedWifi.name&&e.connectedWifi.password&&e.cWifi&&e.cWifi.SSID==e.connectedWifi.name?e.$t("wifi.wifi_connected"):null,a=e.sjxx&&e.sjxx.id&&e.connectedWifi&&e.connectedWifi.name&&e.connectedWifi.password&&(!e.cWifi||e.cWifi.SSID!=e.connectedWifi.name)?e.$t("wifi.secure_connect"):null,f=e.sjxx&&e.sjxx.id?e.$t("wifi.turn_on_wifi_before_connecting"):null;e.$mp.data=Object.assign({},{$root:{m0:i,m1:n,m2:o,m3:r,m4:s,m5:c,m6:a,m7:f}})},o=[]},"9e07":function(e,t,i){"use strict";i.r(t);var n=i("c106"),o=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=o.a},a9fc:function(e,t,i){},c106:function(e,t,i){"use strict";(function(e,n){var o=i("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(i("7eb4")),s=o(i("7ca3")),c=o(i("ee10")),a=i("8f59"),f=o(i("77a5")),u=i("cc12");function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){(0,s.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var g={components:{userPrivacy:function(){i.e("components/user/userPrivacy").then(function(){return resolve(i("50b8"))}.bind(null,i)).catch(i.oe)}},data:function(){return{loading:!1,connectedWifi:{},cWifi:{},wifiList:[],storeInfo:{}}},onLoad:function(e){var t=this;return(0,c.default)(r.default.mark((function i(){var n;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return console.log("options",e),i.next=3,t.getLoginInfo();case 3:if(t.getLayout(),!e||!e.storeId){i.next=8;break}t.storeId=e.storeId,i.next=15;break;case 8:if(!(e.q&&decodeURIComponent(e.q).indexOf("storeId")>-1)){i.next=13;break}n=decodeURIComponent(e.q),t.storeId=f.default.getUrlParams(n)["storeId"],i.next=15;break;case 13:return i.next=15,t.gDw();case 15:t.init();case 16:case"end":return i.stop()}}),i)})))()},onReady:function(){var t=this;e.getPrivacySetting({success:function(e){e.needAuthorization&&t.$refs.privacy.open(e.privacyContractName)},fail:function(){},complete:function(e){console.log(e)}})},onShow:function(){var e=this;return(0,c.default)(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n.getStorageSync("rStoreInfo")&&(e.storeInfo=n.getStorageSync("rStoreInfo"),e.load(e.storeInfo.id));case 1:case"end":return t.stop()}}),t)})))()},computed:l({},(0,a.mapState)(["sjxx"])),methods:l(l({},(0,a.mapActions)(["getSjxx"])),{},{gDw:function(){var e=this;return(0,c.default)(r.default.mark((function t(){var i,n;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.storeInfo||!e.storeInfo.id){t.next=5;break}return e.storeId=e.storeInfo&&e.storeInfo.id,t.abrupt("return");case 5:return t.next=7,(0,u.getDw)({t:0});case 7:return i=t.sent,e.lc=i,t.next=11,e.getAddInfo(i);case 11:return t.next=13,e.util.request({url:e.api.dplb,data:{lat:i.latitude||"",lng:i.longitude||"",recharge:1}});case 13:n=t.sent,e.storeInfo=n.data&&n.data.list&&n.data.list[0],e.storeId=e.storeInfo&&e.storeInfo.id;case 16:case"end":return t.stop()}}),t)})))()},goSelect:function(){n.navigateTo({url:"/pages/shop/select/index?page=recharge"})},load:function(e){var t=this;return(0,c.default)(r.default.mark((function i(){return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:e&&n.removeStorageSync("rStoreInfo"),t.storeId=e,t.init();case 3:case"end":return i.stop()}}),i)})))()},init:function(){var e=this;return(0,c.default)(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getSjxx({storeId:e.storeId,lat:e.lc&&e.lc.latitude||"",lng:e.lc&&e.lc.longitude||""}).then((function(){e.getStartWifi(),e.storeInfo=e.sjxx,e.sjxx&&e.sjxx.storeWifiSetting&&e.sjxx.storeWifiSetting.name&&e.sjxx.storeWifiSetting.password?e.connectedWifi=e.sjxx.storeWifiSetting:(e.connectedWifi={},e.util.message(e.$t("wifi.no_wifi_info"),3,2e3))}));case 2:case"end":return t.stop()}}),t)})))()},getStartWifi:function(){var e=this;n.startWifi({success:function(t){console.log("startWifi",t),e.getConnectedWifi()},fail:function(t){console.log(t),e.msgCode(t)}})},getConnectedWifi:function(){var e=this;n.getConnectedWifi({success:function(t){console.log("getConnectedWifi",t),t&&t.wifi&&t.wifi.SSID&&(e.cWifi=t.wifi)},fail:function(e){console.log(e)}})},content_wf:function(){var e=this,t=this;console.log(t),n.getSystemInfo({success:function(i){var o="";console.log("当前手机型号",i),"android"==i.platform&&(o=parseInt(i.platform.substr(8))),"ios"==i.platform&&(o=parseInt(i.platform.substr(4))),"android"==i.platform&&o<6||"ios"==i.platform&&o<11.2?n.showToast({title:e.$t("wifi.mobile_version_not_supported"),icon:"none"}):t.start_wifi()}})},start_wifi:function(){var e=this;n.startWifi({success:function(t){console.log("startWifi",t),e.connected()},fail:function(t){console.log("error",t),e.msgCode(t)}})},connected:function(){var e=this,t=this;t.loading=!0,n.connectWifi({SSID:t.connectedWifi&&t.connectedWifi.name,password:t.connectedWifi&&t.connectedWifi.password,success:function(i){console.log(i),e.util.message(e.$t("wifi.connection_successful"),1,2e3),t.loading=!1,t.getConnectedWifi()},fail:function(e){console.log("connectWifi",e),t.msgCode(e),t.loading=!1}})},msgCode:function(e){e&&12001==e.errCode?this.util.message(this.$t("wifi.system_not_supported"),3,2e3):e&&12002==e.errCode?this.util.message(this.$t("wifi.password_error"),3,2e3):e&&12003==e.errCode?this.util.message(this.$t("wifi.connection_timeout"),3,2e3):e&&12004==e.errCode?this.util.message(this.$t("wifi.repeated_connection"),3,2e3):e&&12005==e.errCode?this.util.message(this.$t("wifi.open_wifi"),3,2e3):e&&12006==e.errCode?this.util.message(this.$t("wifi.open_gps"),3,2e3):e&&12007==e.errCode?this.util.message(this.$t("wifi.user_denied"),3,2e3):e&&12008==e.errCode?this.util.message(this.$t("wifi.invalid_wifi_name"),3,2e3):e&&12009==e.errCode?this.util.message(this.$t("wifi.operator_denied"),3,2e3):e&&12011==e.errCode?this.util.message(this.$t("wifi.background_config_not_supported"),3,2e3):e&&12013==e.errCode?this.util.message(this.$t("wifi.expired_wifi_config"),3,2e3):e&&12014==e.errCode?this.util.message(this.$t("wifi.invalid_password"),3,2e3):this.util.message("".concat(e.errCode).concat(e.errMsg),3,2e3)},fzID:function(){var e=this.connectedWifi.password;this.util.fz(e)}})};t.default=g}).call(this,i("3223")["default"],i("df3c")["default"])}},[["2da1","common/runtime","common/vendor"]]]);