(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/other/coupon/coupondl"],{"54a8":function(e,t,n){"use strict";var o=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("7eb4")),c=o(n("7ca3")),a=o(n("ee10")),u=n("8f59"),i=o(n("77a5")),s=n("d468");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={name:"CouponDl",components:{myCoupon:function(){Promise.all([n.e("common/vendor"),n.e("components/common/my-coupon")]).then(function(){return resolve(n("0c65"))}.bind(null,n)).catch(n.oe)},sqBtn:function(){Promise.all([n.e("common/vendor"),n.e("components/common/sq-btn")]).then(function(){return resolve(n("c52b"))}.bind(null,n)).catch(n.oe)},mgRtext:function(){Promise.all([n.e("common/vendor"),n.e("components/common/functionCmp/rich-text")]).then(function(){return resolve(n("248b"))}.bind(null,n)).catch(n.oe)}},data:function(){return{aIdx:0,params:{page:1,size:10},dataList:[],cInfo:{},loading:!1}},onLoad:function(e){var t=this;return(0,a.default)(r.default.mark((function n(){var o,c;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.util.setNT(t.$t("other-coupon.receive_coupon")),n.next=3,t.getLoginInfo();case 3:console.log(e),t.isLoad=!0,e.q&&decodeURIComponent(e.q).indexOf("couponId")>-1?(o=decodeURIComponent(e.q),t.couponId=i.default.getUrlParams(o)["couponId"],t.getCoupon(i.default.getUrlParams(o)["couponId"])):(c=i.default.getOptions(e,{key:"couponId"}),t.couponId=c,t.getCoupon(c));case 6:case"end":return n.stop()}}),n)})))()},mixins:[s.sljz],computed:{},methods:d(d({},(0,u.mapActions)(["getConfig"])),{},{getCoupon:function(e){var t=this;return(0,a.default)(r.default.mark((function n(){var o,c;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.util.request({url:"".concat(t.api.lqhd,"/").concat(e)});case 2:o=n.sent,c=o.data,t.cInfo=c;case 5:case"end":return n.stop()}}),n)})))()},save:function(e){var t=this;return(0,a.default)(r.default.mark((function e(){var n;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isLogin){e.next=3;break}return t.$refs["sqBtn"].open(),e.abrupt("return");case 3:return t.loading=!0,e.next=6,t.util.request({url:t.api.lqzx,method:"POST",mask:1,data:{couponId:t.cInfo.id}});case 6:n=e.sent,n&&n.data?(t.util.message(n.msg,3),t.loading=!1,setTimeout((function(){t.go({url:"/pages/other/coupon/couponList",t:3})}),500)):(t.loading=!1,t.util.message(n.msg,2));case 8:case"end":return e.stop()}}),e)})))()},timeif:function(){return i.default.dateToTime()<i.default.dateToTime(this.cInfo.endTime)}}),onShareAppMessage:function(){var e="pages/other/coupon/coupondl?couponId=".concat(this.cInfo.id,"&userId=").concat(this.uId);return this.util.mpShare({t:this.cInfo.name,i:this.getImgS(this.cInfo.bodyImg),p:e})}};t.default=l},"8d84":function(e,t,n){"use strict";n.r(t);var o=n("54a8"),r=n.n(o);for(var c in o)["default"].indexOf(c)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(c);t["default"]=r.a},a052:function(e,t,n){"use strict";(function(e,t){var o=n("47a9");n("b483");o(n("3240"));var r=o(n("b057"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(r.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},b057:function(e,t,n){"use strict";n.r(t);var o=n("d685"),r=n("8d84");for(var c in r)["default"].indexOf(c)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(c);n("c740");var a=n("828b"),u=Object(a["a"])(r["default"],o["b"],o["c"],!1,null,"4a611ba6",null,!1,o["a"],void 0);t["default"]=u.exports},c740:function(e,t,n){"use strict";var o=n("ffb3"),r=n.n(o);r.a},d685:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var o=function(){var e=this.$createElement,t=(this._self._c,this.$t("other-coupon.activity_description")),n=this.timeif(),o=n?this.$t("other-coupon.immediate_receive"):null,r=n?null:this.$t("other-coupon.activity_ended");this.$mp.data=Object.assign({},{$root:{m0:t,m1:n,m2:o,m3:r}})},r=[]},ffb3:function(e,t,n){}},[["a052","common/runtime","common/vendor"]]]);