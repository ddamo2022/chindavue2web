(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/other/coupon/dhm"],{1749:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){}));var o=function(){var e=this.$createElement,t=(this._self._c,this.$t("other-coupon.enter_exchange_code")),n=this.$t("other-coupon.confirm_exchange");this.$mp.data=Object.assign({},{$root:{m0:t,m1:n}})},c=[]},7836:function(e,t,n){"use strict";n.r(t);var o=n("e03d"),c=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=c.a},"952f":function(e,t,n){"use strict";n.r(t);var o=n("1749"),c=n("7836");for(var a in c)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return c[e]}))}(a);var r=n("828b"),u=Object(r["a"])(c["default"],o["b"],o["c"],!1,null,"3ca7b736",null,!1,o["a"],void 0);t["default"]=u.exports},e03d:function(e,t,n){"use strict";(function(e){var o=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(n("7eb4")),a=o(n("ee10")),r=(n("8f59"),n("cc12"),o(n("77a5"))),u={name:"dhm",components:{sqBtn:function(){Promise.all([n.e("common/vendor"),n.e("components/common/sq-btn")]).then(function(){return resolve(n("c52b"))}.bind(null,n)).catch(n.oe)}},data:function(){return{dhm:"",loading:!1,showyhq:!1,dhloading:!1,dhmInfo:{},type:1}},onLoad:function(e){if(console.log("options",e),this.getLayout(),this.getLoginInfo(),e&&e.q){var t=decodeURIComponent(e.q);this.dhm=r.default.getUrlParams(t)["code"]}e&&e.type&&(this.type=e.type),this.util.setNT(this.$t("other-coupon.exchange_center"))},computed:{},methods:{cleanKey:function(){this.dhm=""},sm:function(){var t=this;e.scanCode({success:function(e){t.dhm=e.result},fail:function(e){console.log("fail",e)}})},dhcx:function(){var e=this;return(0,a.default)(c.default.mark((function t(){var n;return c.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isLogin){t.next=3;break}return e.$refs["sqBtn"].open(),t.abrupt("return");case 3:if(e.dhm.trim()){t.next=5;break}return t.abrupt("return",e.util.message(e.$t("other-coupon.enter_exchange_code"),3));case 5:return t.next=7,e.util.modal(e.$t("other-coupon.exchange_code_description")+"，"+e.$t("other-coupon.use_when_ordering")+"，"+e.$t("other-coupon.confirm_exchange_action"));case 7:return e.loading=!0,t.next=10,e.util.request({url:e.api.dhm,method:"POST",mask:1,data:{sn:e.dhm}});case 10:n=t.sent,n?(e.loading=!1,e.util.message(n.msg,3,2e3),e.dhm="",setTimeout((function(){e.go({t:6,url:"/pages/index/my-index"})}),500)):(e.loading=!1,e.util.message(n.msg,3,2e3));case 12:case"end":return t.stop()}}),t)})))()}}};t.default=u}).call(this,n("df3c")["default"])},ebdc:function(e,t,n){"use strict";(function(e,t){var o=n("47a9");n("b483");o(n("3240"));var c=o(n("952f"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(c.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])}},[["ebdc","common/runtime","common/vendor"]]]);