(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-other-coupon-coupondl"],{"52ba":function(t,n,e){var a=e("ef66c");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=e("967d").default;o("6c6fca1a",a,!0,{sourceMap:!1,shadowMode:!1})},"761d":function(t,n,e){"use strict";var a=e("52ba"),o=e.n(a);o.a},"7dfd":function(t,n,e){"use strict";(function(t){e("6a54");var a=e("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("5ef2"),e("c223");var o=a(e("9b1b")),i=a(e("2634")),c=a(e("2fdc")),u=e("8f59"),s=a(e("0c65")),r=a(e("c52b")),d=a(e("248b")),f=a(e("77a5")),l=e("d468"),p={name:"CouponDl",components:{myCoupon:s.default,sqBtn:r.default,mgRtext:d.default},data:function(){return{aIdx:0,params:{page:1,size:10},dataList:[],cInfo:{},loading:!1}},onLoad:function(n){var e=this;return(0,c.default)((0,i.default)().mark((function a(){var o,c;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.util.setNT(e.$t("other-coupon.receive_coupon")),a.next=3,e.getLoginInfo();case 3:t.log(n),e.isLoad=!0,n.q&&decodeURIComponent(n.q).indexOf("couponId")>-1?(o=decodeURIComponent(n.q),e.couponId=f.default.getUrlParams(o)["couponId"],e.getCoupon(f.default.getUrlParams(o)["couponId"])):(c=f.default.getOptions(n,{key:"couponId"}),e.couponId=c,e.getCoupon(c));case 6:case"end":return a.stop()}}),a)})))()},mixins:[l.sljz],computed:{},methods:(0,o.default)((0,o.default)({},(0,u.mapActions)(["getConfig"])),{},{getCoupon:function(t){var n=this;return(0,c.default)((0,i.default)().mark((function e(){var a,o;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.util.request({url:"".concat(n.api.lqhd,"/").concat(t)});case 2:a=e.sent,o=a.data,n.cInfo=o;case 5:case"end":return e.stop()}}),e)})))()},save:function(t){var n=this;return(0,c.default)((0,i.default)().mark((function t(){var e;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.isLogin){t.next=3;break}return n.$refs["sqBtn"].open(),t.abrupt("return");case 3:return n.loading=!0,t.next=6,n.util.request({url:n.api.lqzx,method:"POST",mask:1,data:{couponId:n.cInfo.id}});case 6:e=t.sent,e&&e.data?(n.util.message(e.msg,3),n.loading=!1,setTimeout((function(){n.go({url:"/pages/other/coupon/couponList",t:3})}),500)):(n.loading=!1,n.util.message(e.msg,2));case 8:case"end":return t.stop()}}),t)})))()},timeif:function(){return f.default.dateToTime()<f.default.dateToTime(this.cInfo.endTime)}}),onShareAppMessage:function(){var t="pages/other/coupon/coupondl?couponId=".concat(this.cInfo.id,"&userId=").concat(this.uId);return this.util.mpShare({t:this.cInfo.name,i:this.getImgS(this.cInfo.bodyImg),p:t})}};n.default=p}).call(this,e("ba7c")["default"])},"8d84":function(t,n,e){"use strict";e.r(n);var a=e("7dfd"),o=e.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(i);n["default"]=o.a},b057:function(t,n,e){"use strict";e.r(n);var a=e("ece81"),o=e("8d84");for(var i in o)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(i);e("761d");var c=e("828b"),u=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"a576633e",null,!1,a["a"],void 0);n["default"]=u.exports},ece81:function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){}));var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"cmain h100"},[e("v-uni-view",{staticClass:"topc p-r t0"},[e("v-uni-view",{staticClass:"rwimg p-a r0"},[e("mg-img",{attrs:{m:"aspectFit",src:t.cInfo.bodyImg||t.onImgurl+"common/lqhd.jpg?1"}})],1)],1),e("v-uni-view",{staticClass:"main"},[e("v-uni-view",{staticClass:"ccbd p3 m3 bs15 p-r"},t._l(t.cInfo.couponList,(function(n,a){return e("my-coupon",{key:a,attrs:{color:t.tColor,cname:"mb30",co:n,ptype:"5",v:t.cInfo},on:{btntap:function(e){arguments[0]=e=t.$handleEvent(e),t.btntap(n.id)}}})})),1),e("v-uni-view",{staticClass:"mt20 p2 p-r"},[e("v-uni-view",{staticClass:"wei f30"},[t._v(t._s(t.$t("other-coupon.activity_description"))+"：")]),e("v-uni-view",{staticClass:"mt10"},[e("mg-rtext",{attrs:{type:"2",content:t.cInfo.body}})],1)],1)],1),e("v-uni-view",{staticClass:"f30 p2 foot-btnc",style:{padding:"26rpx"}},[e("v-uni-view",{staticClass:"f-g-1 mt10"},[t.timeif()?e("v-uni-button",{staticClass:"foot-btn bs60 f30",style:{background:t.tColor,color:t.fontColor},attrs:{loading:t.loading,disabled:t.loading,"hover-class":"btnhc"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.save.apply(void 0,arguments)}}},[t._v(t._s(t.$t("other-coupon.immediate_receive")))]):e("v-uni-button",{staticClass:"foot-btn bs60 f30",style:{background:"#999",color:"#333"},attrs:{disabled:!0,"hover-class":"btnhc"}},[t._v(t._s(t.$t("other-coupon.activity_ended")))])],1)],1),e("sq-btn",{ref:"sqBtn",attrs:{type:"1"}})],1)},o=[]},ef66c:function(t,n,e){var a=e("c86c");n=a(!1),n.push([t.i,'@charset "UTF-8";\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.cmain[data-v-a576633e]{background:linear-gradient(180deg,#c40000 0,#e07300)}.main[data-v-a576633e]{padding-bottom:%?180?%}.topc[data-v-a576633e]{padding:%?45?% %?48?% %?40?%;width:100%;min-height:%?500?%}.topc .rwimg[data-v-a576633e]{width:100%;top:0;bottom:%?0?%}.foot-btnc[data-v-a576633e]{background:#e07300}',""]),t.exports=n}}]);