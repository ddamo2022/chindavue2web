(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-integral-details"],{1332:function(t,a,e){"use strict";e.r(a);var i=e("9ddf"),n=e("b343");for(var r in n)["default"].indexOf(r)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(r);e("deef");var s=e("828b"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"5a147d10",null,!1,i["a"],void 0);a["default"]=c.exports},"1e12":function(t,a,e){"use strict";e.r(a);var i=e("6c03"),n=e("50d9");for(var r in n)["default"].indexOf(r)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(r);e("36dc");var s=e("828b"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"f383cf38",null,!1,i["a"],void 0);a["default"]=c.exports},"36dc":function(t,a,e){"use strict";var i=e("6e8cd"),n=e.n(i);n.a},"3cea":function(t,a,e){"use strict";var i=e("48a3"),n=e.n(i);n.a},"48a3":function(t,a,e){var i=e("7901");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("967d").default;n("8ccf046a",i,!0,{sourceMap:!1,shadowMode:!1})},"50d9":function(t,a,e){"use strict";e.r(a);var i=e("bb62"),n=e.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(r);a["default"]=n.a},6530:function(t,a,e){"use strict";e.r(a);var i=e("e6cb"),n=e.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(r);a["default"]=n.a},"6c03":function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return r})),e.d(a,"a",(function(){return i}));var i={uniPopup:e("8669").default},n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("uni-popup",{ref:"popup",attrs:{type:"bottom"}},[e("v-uni-view",{staticClass:"bs30 bf"},[e("v-uni-view",{staticClass:"tit p-r f-c"},[e("v-uni-view",{staticClass:"f32 wei"},[t._v(t._s(t.$t("pay.confirm_payment")))]),e("v-uni-text",{staticClass:"p-a cIcon iconfont icon-guanbi c6 f36",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.close.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"p3"},[e("v-uni-form",{on:{submit:function(a){arguments[0]=a=t.$handleEvent(a),t.formSubmit.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"payOptions"},[e("v-uni-radio-group",{attrs:{name:"radiogroup"},on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.radioChange.apply(void 0,arguments)}}},t._l(t.payArr,(function(a,i){return e("v-uni-label",{key:i,staticClass:"weui-cell right30 f-s mb30 bf"},[e("v-uni-view",{staticClass:"f-y-c"},[e("v-uni-image",{staticClass:"hdimg",attrs:{mode:"aspectFit",src:a.img}})],1),e("v-uni-view",{staticClass:"weui-cell__bd"},[e("v-uni-view",{staticClass:"f-row"},[e("v-uni-view",{staticClass:"f34 f-1 l-n"},[t._v(t._s(a.name)),"ye"==a.value?e("v-uni-text",{staticClass:"c9 f24 ml10 neutra-font"},[t._v("("+t._s(t.$t("pay.available"))+":฿"+t._s(parseFloat(a.balance))+")")]):t._e()],1),e("v-uni-view",{staticClass:"weui-cell__ft_in-radio"},[e("v-uni-view",{staticClass:"yuan f-c",style:{backgroundColor:a.value==t.radioVal?a.color||t.tColor:"",borderColor:a.value==t.radioVal?a.color||t.tColor:""}},[a.value==t.radioVal?e("v-uni-text",{staticClass:"iconfont f20 icon-gou wei",style:{color:a.value==t.radioVal?t.fontColor:""}}):t._e()],1),e("v-uni-radio",{staticClass:"weui-check",attrs:{value:a.value,color:"#F98811",checked:a.value==t.radioVal}})],1)],1)],1)],1)})),1)],1),t.payArr.length?e("v-uni-view",{},[e("v-uni-button",{staticClass:"foot-btn bs60 f30 wei cf",style:{backgroundColor:t.tColor,color:t.fontColor},attrs:{disabled:t.loading,loading:t.loading,"form-type":"submit"}},[t._v(t._s(t.$t("pay.pay"))),e("v-uni-text",{staticClass:"neutra-font ml10"},[t._v(t._s(t.pmoney))]),t._v("THB")],1)],1):t._e()],1)],1)],1)],1)},r=[]},"6e8cd":function(t,a,e){var i=e("ce22");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("967d").default;n("182cbcca",i,!0,{sourceMap:!1,shadowMode:!1})},7901:function(t,a,e){var i=e("c86c");a=i(!1),a.push([t.i,'@charset "UTF-8";\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.dbbtnc[data-v-abdf575c]{position:fixed;bottom:0;width:100%;padding:%?30?%}.dbbtnc .dbbtn[data-v-abdf575c]{height:%?86?%;border-radius:%?80?%;overflow:hidden;display:flex;box-shadow:%?0?% %?8?% %?18?% %?5?% hsla(0,0%,86.7%,.9)}.dbbtnc .dbbtn .rt[data-v-abdf575c]{color:#fff;width:100%;height:100%;border-radius:0;font-size:%?30?%;padding:0}.imgh[data-v-abdf575c]{height:%?600?%}',""]),t.exports=a},"9ddf":function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return n})),e.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return 1==t.type?e("v-uni-view",{staticClass:"posi-f wh bf t0 z9999",style:{zIndex:t.zix}},[e("v-uni-view",{staticClass:"animation_opactiy posi-f wh bf t0 l0"}),e("v-uni-view",{staticClass:"jzzc",class:t.loadingImg&&t.loadingImg.imgUrl?"":"f-c"},[t.loadingImg.imgUrl?e("mg-img",{attrs:{m:"widthFix",src:t.loadingImg.imgUrl}}):e("v-uni-view",{staticClass:"weui-loading"})],1)],1):e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],staticClass:"posi-f wh t0 z9999 skeletonbg",on:{touchmove:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a)}}})},n=[]},a192:function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return r})),e.d(a,"a",(function(){return i}));var i={pay:e("1e12").default},n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"pb130"},[e("v-uni-view",{staticClass:"imgh o-h bf"},[e("v-uni-image",{staticClass:"wh",attrs:{src:t.dlDatl.icon,mode:"aspectFit"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.yl(t.dlDatl.icon)}}})],1),e("v-uni-view",{staticClass:"p3 bf mb20"},[e("v-uni-view",{staticClass:"jfgb"},[e("v-uni-view",{staticClass:"f-bt f-y-c"},[e("v-uni-view",{staticClass:"t-o-e f-g-1 wei f34"},[t._v(t._s(t.dlDatl.name))])],1),e("v-uni-view",{staticClass:"cfa mt10 neutra-font"},[e("v-uni-view",{staticClass:"t-o-e f30",style:{color:t.tColor}},[t.dlDatl.integral>0?e("v-uni-text",{staticClass:"f36 wei"},[t._v(t._s(t.dlDatl.integral))]):t._e(),t.dlDatl.integral>0?e("v-uni-text",{staticClass:"f22 c9 nowei ml10"},[t._v(t._s(t.$t("integral.points")))]):t._e(),t.dlDatl.integral>0&&t.dlDatl.money>0?e("v-uni-text",{staticClass:"nowei c9"},[t._v("+")]):t._e(),t.dlDatl.money>0?e("v-uni-text",{staticClass:"f36 wei"},[t._v(t._s(t.dlDatl.money)),e("v-uni-text",{staticClass:"f22 c9"},[t._v("THB")])],1):t._e(),t.dlDatl.original_price>0?e("v-uni-text",{staticClass:"t-d-l ml10 f22",staticStyle:{color:"#999"}},[t._v(t._s(t.$t("integral.original_price"))+t._s(t.dlDatl.original_price)),e("v-uni-text",{staticClass:"f22 c9"},[t._v("THB")])],1):t._e()],1),e("v-uni-view",{staticClass:"f-bt"},[e("v-uni-view",{staticClass:"c9 f22 wei4"},[t._v(t._s(t.$t("integral.sales"))+t._s(t.dlDatl.sales)+" "+t._s(t.$t("integral.pieces")))]),e("v-uni-view",{staticClass:"c9 f22 wei4"},[t._v(t._s(t.$t("integral.remaining_pieces"))+" "+t._s(t.dlDatl.stock)+t._s(t.$t("integral.pieces")))])],1)],1)],1)],1),e("v-uni-view",{staticClass:"bf p3"},[e("v-uni-view",{staticClass:"f32 wei"},[t._v(t._s(t.$t("integral.product_details")))]),t.dlDatl.body?e("v-uni-view",{staticClass:"mt30"},[e("mg-rtext",{attrs:{type:"2",content:t.dlDatl.body}})],1):t._e()],1),e("v-uni-view",{staticClass:"dbbtnc",style:{bottom:t.isIpx?"40rpx":0}},[e("v-uni-view",{staticClass:"dbbtn"},[e("v-uni-button",{staticClass:"rt f-c",style:{background:t.check?"#999":t.tColor},attrs:{disabled:t.check},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.ljdh.apply(void 0,arguments)}}},[t._v(t._s(t.$t("integral.redeem_now")))])],1)],1),t.isIpx?e("v-uni-view",{staticClass:"bgf",staticStyle:{"z-index":"0"}}):t._e(),e("pay",{ref:"Pay",on:{pay:function(a){arguments[0]=a=t.$handleEvent(a),t.cPay.apply(void 0,arguments)},zfPay:function(a){arguments[0]=a=t.$handleEvent(a),t.zfPay.apply(void 0,arguments)}}})],1)},r=[]},b343:function(t,a,e){"use strict";e.r(a);var i=e("bb5e"),n=e.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(r);a["default"]=n.a},bb5e:function(t,a,e){"use strict";e("6a54");var i=e("f5bd").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(e("9b1b")),r=e("8f59"),s={props:{zix:{type:String,default:""},type:{type:String,default:"1"},value:{type:Boolean,default:!1}},computed:(0,n.default)({},(0,r.mapState)({loadingImg:function(t){return t.layout&&t.layout.loadingImg}})),data:function(){return{}}};a.default=s},bb62:function(t,a,e){"use strict";(function(t){e("6a54");var i=e("f5bd").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(e("2634")),r=i(e("2fdc"));e("64aa"),e("5ef2"),e("c223"),e("aa9c"),e("aa77"),e("bf0f");var s=i(e("77a5")),c=(i(e("5137")),e("cc12"),{name:"payMoney",components:{},props:{visible:{type:Boolean,default:!1}},data:function(){return{loading:!1,radioVal:"ye",payArr:[],payObj:{},payDataObj:{},yeczrule:[]}},computed:{pmoney:function(){return Number(this.payDataObj&&this.payDataObj.money||0).toFixed(2)}},methods:{open:function(t){var a=this;return(0,r.default)((0,n.default)().mark((function e(){return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.gUser(),a.payObj=JSON.parse(t),e.next=4,a.getPayArr();case 4:if(!(a.payDataObj&&a.payDataObj.money<=0)){e.next=7;break}return a.formSubmit("zero"),e.abrupt("return");case 7:uni.getProvider({service:"payment",success:function(t){t.provider.indexOf("wxpay")?a.provider="wxpay":t.provider.indexOf("alipay")?a.provider="alipay":t.provider.indexOf("baidu")?a.provider="baidu":t.provider.indexOf("toutiao")&&(a.provider="toutiao")}}),a.$refs["popup"].open();case 9:case"end":return e.stop()}}),e)})))()},czOpen:function(t){var a=this;return(0,r.default)((0,n.default)().mark((function e(){var i,r;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.gUser(),a.payObj=JSON.parse(t),e.next=4,a.util.request({url:"".concat(a.api.pay,"/").concat(a.payObj.orderSn),method:"get",mask:1});case 4:i=e.sent,r=i.data,a.payDataObj=r,a.payObj.payId=r.payList&&r.payList[0].id,a.formSubmit("cz");case 9:case"end":return e.stop()}}),e)})))()},jfOpen:function(a,e){var i=this;return(0,r.default)((0,n.default)().mark((function r(){var s,c,u;return(0,n.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:for(i.gUser(),i.payObj=JSON.parse(a),i.payDataObj=JSON.parse(e),s=[],c=JSON.parse(e),u=0;u<c.payList.length;u++)"balance"==c.payList[u].payType&&(i.payObj.payId=c.payList[u].id,s.push({name:i.$t("pay.balance_payment"),value:"ye",img:"".concat(i.onImgurl,"pay/yezf.png"),isDefault:c.payList[u].isDefault,id:c.payList[u].id,balance:c.payList[u].balance})),"weixin"==c.payList[u].payType&&(i.payObj.payId=c.payList[u].id,s.push({name:i.$t("pay.wechat_payment"),value:"wx",img:"".concat(i.onImgurl,"pay/wxzf.png"),isDefault:c.payList[u].isDefault,id:c.payList[u].id})),"alipay"==c.payList[u].payType&&(i.payObj.payId=c.payList[u].id,s.push({name:i.$t("pay.alipay_payment"),value:"zfb",img:"".concat(i.onImgurl,"pay/zfbzf.png"),isDefault:c.payList[u].isDefault,id:c.payList[u].id})),"ksher"==c.payList[u].payType&&(i.payObj.payId=c.payList[u].id,s.push({name:"ksher",value:"ksher",img:"".concat(i.onImgurl,"pay/wxzf.png"),isDefault:c.payList[u].isDefault,id:c.payList[u].id}));return i.payArr=s,t.log(s),n.abrupt("return");case 11:case"end":return n.stop()}}),r)})))()},close:function(){this.$emit("pay"),this.loading=!1,this.$refs["popup"].close()},radioChange:function(t){this.radioVal=t.detail.value;var a=this.payArr.find((function(a){return a.value==t.detail.value}));this.payObj.payId=a.id},getPayArr:function(){var t=this;return(0,r.default)((0,n.default)().mark((function a(){var e,i,r,s;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.util.request({url:"".concat(t.api.pay,"/").concat(t.payObj.orderSn),method:"get",mask:1});case 2:if(e=a.sent,i=e.data,t.payDataObj=i,!(t.payDataObj&&t.payDataObj.money<=0)){a.next=7;break}return a.abrupt("return");case 7:for(r=[],s=0;s<i.payList.length;s++)"balance"==i.payList[s].payType&&(t.payObj.payId=i.payList[s].id,r.push({name:t.$t("pay.balance_payment"),value:"ye",img:"".concat(t.onImgurl,"pay/yezf.png"),isDefault:i.payList[s].isDefault,id:i.payList[s].id,balance:i.payList[s].balance})),"weixin"==i.payList[s].payType&&(t.payObj.payId=i.payList[s].id,r.push({name:t.$t("pay.wechat_payment"),value:"wx",img:"".concat(t.onImgurl,"pay/wxzf.png"),isDefault:i.payList[s].isDefault,id:i.payList[s].id})),"alipay"==i.payList[s].payType&&(t.payObj.payId=i.payList[s].id,r.push({name:t.$t("pay.alipay_payment"),value:"zfb",img:"".concat(t.onImgurl,"pay/zfbzf.png"),isDefault:i.payList[s].isDefault,id:i.payList[s].id})),"ksher"==i.payList[s].payType&&(t.payObj.payId=i.payList[s].id,r.push({name:"ksher",value:"ksher",img:"".concat(t.onImgurl,"pay/ksher.png"),isDefault:i.payList[s].isDefault,id:i.payList[s].id}));t.payArr=r,t.radioChange({detail:{value:r.find((function(t){return 1==t.isDefault})).value}});case 11:case"end":return a.stop()}}),a)})))()},formSubmit:function(a){var e=this;return(0,r.default)((0,n.default)().mark((function i(){var r,c;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!e.payObj||"jfsc"!=e.payObj.orderType){i.next=5;break}return i.next=3,e.util.request({url:e.api.jfsplb,method:"POST",ct:1});case 3:return i.next=5,e.$emit("zfPay");case 5:return r=e.payObj=s.default.deepCopy(e.payObj),e.loading=!0,i.next=9,e.util.request({url:e.api.orderPay,method:"POST",mask:1,data:r});case 9:c=i.sent,c?a.detail&&"ye"!=a.detail.value.radiogroup||"cz"==a?(t.log("112"),c.data&&(t.log(c.data.pay_content),window.location=c.data.pay_content)):(e.util.message(c.msg,c.data?1:2),e.ctx(),e.close()):e.loading=!1;case 11:case"end":return i.stop()}}),i)})))()},ctx:function(){var t=this;setTimeout((function(){t.go({t:t.payObj.go&&t.payObj.go.t,url:t.payObj.go&&t.payObj.go.url})}),500)},gUser:function(){this.uId&&this.refreshUser({nomask:1,get:1,now:1})},cPay:function(a){var e=this;return(0,r.default)((0,n.default)().mark((function a(){var i,r;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.util.request({url:"".concat(e.api.pQuery,"/").concat(e.payObj.orderSn)});case 2:i=a.sent,r=i.data,t.log("data",r),r&&r.state>=2?(e.util.message("支付成功",1),e.ctx(),e.close()):(e.util.message("支付失败",3),e.close());case 6:case"end":return a.stop()}}),a)})))()}}});a.default=c}).call(this,e("ba7c")["default"])},bd0d:function(t,a,e){"use strict";e.r(a);var i=e("a192"),n=e("6530");for(var r in n)["default"].indexOf(r)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(r);e("3cea");var s=e("828b"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"abdf575c",null,!1,i["a"],void 0);a["default"]=c.exports},ce22:function(t,a,e){var i=e("c86c");a=i(!1),a.push([t.i,'@charset "UTF-8";\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.tit[data-v-f383cf38]{background:#f2f0f3;height:%?100?%}.tit .cIcon[data-v-f383cf38]{top:%?26?%;right:%?30?%}.weui-cell[data-v-f383cf38]{padding:%?40?% %?35?% %?40?%;border-radius:%?20?%}.weui-cell-hover[data-v-f383cf38]{border:%?2?% solid #f98811;background:linear-gradient(180deg,#fbf4e2,#f9eed8);color:#333}.weui-cell[data-v-f383cf38]:last-child:after{display:block}.weui-cell__bd[data-v-f383cf38]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.weui-cell[data-v-f383cf38]:after{left:%?112?%}.hdimg[data-v-f383cf38]{width:%?49?%;height:%?49?%;margin-right:%?30?%}.right30[data-v-f383cf38]::after{right:%?30?%}.foot-btn[data-v-f383cf38]{background:#007a53}.yuan[data-v-f383cf38]{width:%?40?%;height:%?40?%;border-radius:50%;border:%?2?% solid #ccc;z-index:10}',""]),t.exports=a},d468:function(t,a,e){"use strict";e("6a54");var i=e("f5bd").default;Object.defineProperty(a,"__esModule",{value:!0}),a.utilMixins=a.sljz=void 0,e("5ef2"),e("64aa");var n=i(e("9b1b")),r=e("8f59"),s=i(e("77a5")),c={data:function(){return{dataList:[],bfList:[],isget:!1,mygd:!1}},onReachBottom:s.default.debounce((function(t){!this.mygd&&this.isget&&(this.isget=!1,this.getList())}),300)};a.sljz=c;var u={computed:(0,n.default)({},(0,r.mapState)({})),methods:{timeToDate:function(t,a){return s.default.timeToDate(t,a)},dateToTime:function(t){return s.default.dateToTime(t)},getSingleImg:function(t){return t.indexOf("http")>-1?t:this.url+t},snText:function(t,a){return t&&t.length>a?t.substring(0,a)+"...":t},blxs:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number(Number(t).toFixed(a))},payName:function(t){var a="";switch(+t){case 1:a="微信支付";break;case 2:a="支付宝支付";break;case 3:a="百度支付";break;case 5:a="余额支付";break}return a},cTR:function(t){return s.default.colorToRGB(t)},cTRld:function(t,a){return s.default.ldColor(t,a)}}};a.utilMixins=u},de79:function(t,a,e){var i=e("f232");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("967d").default;n("4b9f1a96",i,!0,{sourceMap:!1,shadowMode:!1})},deef:function(t,a,e){"use strict";var i=e("de79"),n=e.n(i);n.a},e6cb:function(t,a,e){"use strict";e("6a54");var i=e("f5bd").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("c223"),e("5ef2"),e("d4b5"),e("aa9c");var n=i(e("2634")),r=i(e("2fdc")),s=(e("8f59"),i(e("248b"))),c=(i(e("77a5")),i(e("1332"))),u=i(e("1e12")),o=e("d468"),l={name:"js-details",components:{mgRtext:s.default,load:c.default,Pay:u.default},data:function(){return{swiper:{class:"",padding:0,swiper:[{icon:""}],duration:"",mode:"",height:"500",radius:"0",auto:!0,interval:5},showLoading:!0,loading:!1,dlDatl:{},check:!0,checkData:{},zfForm:{}}},onLoad:function(t){var a=this;return(0,r.default)((0,n.default)().mark((function e(){return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.id&&(a.id=t.id),e.next=3,a.getLoginInfo();case 3:a.util.setNT(a.$t("integral.product_details")),a.getData();case 5:case"end":return e.stop()}}),e)})))()},mixins:[o.utilMixins],computed:{},methods:{getData:function(){var t=this;return(0,r.default)((0,n.default)().mark((function a(){var e,i;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.util.request({url:"".concat(t.api.jfsplb,"/").concat(t.id),mask:1});case 2:e=a.sent,i=e.data,t.dlDatl=i||{},t.getCheckOut(),t.showLoading=!1;case 7:case"end":return a.stop()}}),a)})))()},getCheckOut:function(){var t=this;return(0,r.default)((0,n.default)().mark((function a(){var e,i;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.util.request({url:t.api.pMallOut,data:{goodsId:t.id}});case 2:e=a.sent,i=e.data,i&&(t.check=!1),t.checkData=i;case 6:case"end":return a.stop()}}),a)})))()},ljdh:function(){var t=this;return(0,r.default)((0,n.default)().mark((function a(){var e;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(1!=t.dlDatl.product_type){a.next=5;break}e=t.checkData.goods.deliveryChannel&&t.checkData.goods.deliveryChannel.indexOf(1)>-1?1:2,t.go({t:2,url:"/pages/my/integral/save-order?id=".concat(t.id,"&diningType=").concat(e)}),a.next=9;break;case 5:return a.next=7,t.util.modal(t.$t("integral.confirm_redemption_of_product"));case 7:t.loading=!0,t.checkData.pay&&t.checkData.pay.money>0?(t.zfForm=t.checkData.pay,t.$refs["Pay"].jfOpen(JSON.stringify({orderSn:t.checkData.pay.orderSn,orderType:"jfsc",go:{t:2,url:"/pages/my/integral/integral-record?orderSn=".concat(t.checkData.pay.orderSn)}}),JSON.stringify(t.checkData.pay))):t.zfPay();case 9:case"end":return a.stop()}}),a)})))()},zfPay:function(){var t=this;return(0,r.default)((0,n.default)().mark((function a(){var e,i,r;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.loading=!1,!(t.checkData.pay&&t.checkData.pay.money<=0)){a.next=9;break}return a.next=4,t.util.request({url:t.api.jfsplb,method:"POST",ct:1});case 4:e=a.sent,i=e.data,r=e.msg,t.util.message(r,3),setTimeout((function(){t.go({t:2,url:"/pages/my/integral/integral-record?orderSn=".concat(i.orderSn)})}),300);case 9:case"end":return a.stop()}}),a)})))()},cPay:function(){},yl:function(t){var a=[];a.push(t),this.util.preImg({idx:0,urls:a})}},onShareAppMessage:function(){var t="pages/my/integral/details?id=".concat(this.dlDatl.id);return this.util.mpShare({t:this.dlDatl.id,i:this.getImgS(this.dlDatl&&this.dlDatl.icon),p:t})}};a.default=l},f232:function(t,a,e){var i=e("c86c");a=i(!1),a.push([t.i,'@charset "UTF-8";\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */@-webkit-keyframes backOpacity-data-v-5a147d10{0%{opacity:0}25%{opacity:.2}50%{opacity:.5}75%{opacity:.2}100%{opacity:0}}@keyframes backOpacity-data-v-5a147d10{0%{opacity:0}25%{opacity:.2}50%{opacity:.5}75%{opacity:.2}100%{opacity:0}}.animation_opactiy[data-v-5a147d10]{-webkit-animation:backOpacity-data-v-5a147d10 1s ease-in-out infinite;animation:backOpacity-data-v-5a147d10 1s ease-in-out infinite}.jzzc[data-v-5a147d10]{width:%?300?%;height:%?300?%;position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.weui-loading[data-v-5a147d10]{width:%?80?%;height:%?80?%}',""]),t.exports=a}}]);