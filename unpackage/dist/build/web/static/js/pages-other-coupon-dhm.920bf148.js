(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-other-coupon-dhm"],{"0972":function(t,n,e){"use strict";(function(t){e("6a54");var o=e("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("0c26");var a=o(e("2634")),i=o(e("2fdc")),c=(e("8f59"),e("cc12"),o(e("77a5"))),u=o(e("c52b")),r={name:"dhm",components:{sqBtn:u.default},data:function(){return{dhm:"",loading:!1,showyhq:!1,dhloading:!1,dhmInfo:{},type:1}},onLoad:function(n){if(t.log("options",n),this.getLayout(),this.getLoginInfo(),n&&n.q){var e=decodeURIComponent(n.q);this.dhm=c.default.getUrlParams(e)["code"]}n&&n.type&&(this.type=n.type),this.util.setNT(this.$t("other-coupon.exchange_center"))},computed:{},methods:{cleanKey:function(){this.dhm=""},sm:function(){var n=this;uni.scanCode({success:function(t){n.dhm=t.result},fail:function(n){t.log("fail",n)}})},dhcx:function(){var t=this;return(0,i.default)((0,a.default)().mark((function n(){var e;return(0,a.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.isLogin){n.next=3;break}return t.$refs["sqBtn"].open(),n.abrupt("return");case 3:if(t.dhm.trim()){n.next=5;break}return n.abrupt("return",t.util.message(t.$t("other-coupon.enter_exchange_code"),3));case 5:return n.next=7,t.util.modal(t.$t("other-coupon.exchange_code_description")+"，"+t.$t("other-coupon.use_when_ordering")+"，"+t.$t("other-coupon.confirm_exchange_action"));case 7:return t.loading=!0,n.next=10,t.util.request({url:t.api.dhm,method:"POST",mask:1,data:{sn:t.dhm}});case 10:e=n.sent,e?(t.loading=!1,t.util.message(e.msg,3,2e3),t.dhm="",setTimeout((function(){t.go({t:6,url:"/pages/index/my-index"})}),500)):(t.loading=!1,t.util.message(e.msg,3,2e3));case 12:case"end":return n.stop()}}),n)})))()}}};n.default=r}).call(this,e("ba7c")["default"])},7836:function(t,n,e){"use strict";e.r(n);var o=e("0972"),a=e.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(i);n["default"]=a.a},"952f":function(t,n,e){"use strict";e.r(n);var o=e("a347"),a=e("7836");for(var i in a)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(i);var c=e("828b"),u=Object(c["a"])(a["default"],o["b"],o["c"],!1,null,"77673254",null,!1,o["a"],void 0);n["default"]=u.exports},a347:function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){}));var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{},[e("v-uni-view",{staticClass:"p2"},[e("v-uni-view",{staticClass:"p32 f-y-c bf bs20"},[e("v-uni-input",{staticClass:"f-1 mr30 srk f30",attrs:{placeholder:t.$t("other-coupon.enter_exchange_code")},model:{value:t.dhm,callback:function(n){t.dhm="string"===typeof n?n.trim():n},expression:"dhm"}}),e("v-uni-text",{staticClass:"iconfont icon-31saoma f42 c3",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.sm.apply(void 0,arguments)}}})],1)],1),e("v-uni-view",{staticClass:"foot-btnc"},[e("v-uni-button",{staticClass:"foot-btn f30 bf",style:{background:t.tColor,color:t.fontColor},attrs:{loading:t.loading},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.dhcx.apply(void 0,arguments)}}},[t._v(t._s(t.$t("other-coupon.confirm_exchange")))])],1),e("sq-btn",{ref:"sqBtn",attrs:{type:"1"}})],1)},a=[]}}]);