(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-invitation-yqyl"],{"0011":function(t,a,i){"use strict";i.r(a);var n=i("d318"),e=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(a,t,(function(){return n[t]}))}(s);a["default"]=e.a},"2c6b":function(t,a,i){"use strict";var n=i("376d"),e=i.n(n);e.a},"376d":function(t,a,i){var n=i("90a6");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var e=i("967d").default;e("461af090",n,!0,{sourceMap:!1,shadowMode:!1})},"90a6":function(t,a,i){var n=i("c86c");a=n(!1),a.push([t.i,'@charset "UTF-8";\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.invite[data-v-45c85cc0]{background:#f5f5f5}.invite .sy[data-v-45c85cc0]{background-color:hsla(0,0%,100%,.5);height:%?70?%;width:%?70?%;margin-right:15px}.hbg[data-v-45c85cc0]{width:100%;height:%?1200?%}.hbgb[data-v-45c85cc0]{width:100%;height:100vh}.bar[data-v-45c85cc0]{width:100%;top:%?260?%}.bar .lbg[data-v-45c85cc0]{padding:%?4?% %?20?% %?4?% 0;border-radius:0 %?30?% %?30?% 0}.bar .lbg .icon-youjiantou[data-v-45c85cc0]{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}.bar .rbg[data-v-45c85cc0]{padding:%?4?% 0 %?4?% %?20?%;border-radius:%?30?% 0 0 %?30?%}.main[data-v-45c85cc0]{padding:%?40?%}.main .foot-btn[data-v-45c85cc0]{height:%?86?%;line-height:%?86?%}.main .my .jl[data-v-45c85cc0]{padding:%?15?% %?50?%;background:#f5f5f5;border-radius:0 0 %?20?% %?20?%}.main .my .line[data-v-45c85cc0]{width:%?2?%;height:%?60?%;background:#d5d5d5}.btnb[data-v-45c85cc0]{width:100%;bottom:%?80?%}.btnb .msg[data-v-45c85cc0]{background:#ccc}',""]),t.exports=a},bac7:function(t,a,i){"use strict";i.d(a,"b",(function(){return n})),i.d(a,"c",(function(){return e})),i.d(a,"a",(function(){}));var n=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",{staticClass:"mh100 invite posi-r"},[i("uni-nav-bar",{attrs:{id:"uninavbar",uropcity:0,uriconopcity:0,fixed:!0,ispr:!1,border:!1,statusBar:!0,isleft:!1}},[i("v-uni-view",{staticClass:"f-c c0",attrs:{slot:"left"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.handReturn.apply(void 0,arguments)}},slot:"left"},[i("v-uni-view",{staticClass:"sy bsf f-c"},[i("v-uni-text",{staticClass:"iconfont icon-shouye1 c3 f34"})],1)],1)],1),t.ldxInfo&&t.ldxInfo.activity&&t.ldxInfo.activity.partyAPage&&t.ldxInfo.partyA?i("v-uni-view",{staticClass:"hbg"},[i("mg-img",{attrs:{src:""+t.ldxInfo.activity.partyAPage.image}})],1):t._e(),t.ldxInfo&&t.ldxInfo.activity&&t.ldxInfo.activity.partyAPage&&t.partyAid?i("v-uni-view",{staticClass:"hbgb"},[i("mg-img",{attrs:{src:""+t.ldxInfo.activity.partyBPage.image}})],1):t._e(),i("v-uni-view",{staticClass:"bar posi-a f-bt f22"},[i("v-uni-view",[t.ldxInfo&&t.partyAid?i("v-uni-view",{staticClass:"f-g-0 lbg bf flex",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.gojl.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"iconfont icon-youjiantou f22 ml5 c9"}),i("v-uni-view",[t._v("奖励")])],1):t._e()],1),i("v-uni-view",{staticClass:"f-g-0 bf rbg f-y-c",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.gogz.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("规则")]),i("v-uni-text",{staticClass:"iconfont icon-youjiantou f22 ml5 c9"})],1)],1),t.ldxInfo&&t.ldxInfo.partyA?i("v-uni-view",{staticClass:"main posi-r"},[i("v-uni-view",{staticClass:"f-g-1"},[t.ldxInfo&&t.ldxInfo.activity&&0==t.ldxInfo.activity.subState?i("v-uni-button",{staticClass:"foot-btn",style:{background:"#999"},attrs:{disabled:!0}},[i("v-uni-text",{staticClass:"cf"},[t._v("活动已结束")])],1):i("v-uni-button",{staticClass:"foot-btn",style:{background:t.tColor},attrs:{loading:t.loading,disabled:t.loading,"hover-class":"btnhc"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.ljyq.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"wei t-o-e"},[t._v(t._s(t.ldxInfo&&t.ldxInfo.activity&&t.ldxInfo.activity.partyAPage&&t.ldxInfo.activity.partyAPage.text||"立即邀请"))])],1)],1),i("v-uni-view",{staticClass:"bf bs20 mt30 my pb20"},[i("v-uni-view",{staticClass:"f-c"},[i("v-uni-view",{staticClass:"jl cf f28",style:{background:t.tColor}},[t._v("我的奖励")])],1),i("v-uni-view",{staticClass:"p3 f-bt f-y-c",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.gojl.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"f-1 f-c-c"},[i("v-uni-view",{staticClass:"wei f40 c0"},[t._v(t._s(t.ldxInfo.partyA.partyBCount||0))]),i("v-uni-view",{staticClass:"c6"},[t._v("助力（次）")])],1),i("v-uni-view",{staticClass:"f-g-0 line"}),i("v-uni-view",{staticClass:"f-1 f-c-c"},[i("v-uni-view",{staticClass:"wei f40 c0"},[t._v(t._s(t.ldxInfo.partyA.couponCount||0))]),i("v-uni-view",{staticClass:"c6"},[t._v("券（次）")])],1),i("v-uni-view",{staticClass:"f-g-0 line"}),i("v-uni-view",{staticClass:"f-1 f-c-c"},[i("v-uni-view",{staticClass:"wei f40 c0"},[t._v(t._s(t.ldxInfo.partyA.integral||0))]),i("v-uni-view",{staticClass:"c6"},[t._v("积分")])],1)],1)],1)],1):t._e(),t.partyAid?i("v-uni-view",{staticClass:"f-g-1 posi-a btnb"},[t.ldxInfo&&t.ldxInfo.activity&&0==t.ldxInfo.activity.subState?i("v-uni-view",{staticClass:"p3"},[i("v-uni-button",{staticClass:"foot-btn",style:{background:"#999"},attrs:{disabled:!0}},[i("v-uni-text",{staticClass:"cf"},[t._v("活动已结束")])],1)],1):[t.ldxInfo&&t.ldxInfo.partyB&&t.partyAid==t.ldxInfo.partyB.partyAid?i("v-uni-view",{staticClass:"msg p2 f24 cf f-c"},[t._v("您与邀请人已绑定")]):t._e(),t.ldxInfo&&t.ldxInfo.partyB&&t.partyAid!=t.ldxInfo.partyB.partyAid?i("v-uni-view",{staticClass:"msg p2 f24 cf f-c"},[t._v("已注册助力")]):t._e(),i("v-uni-view",{staticClass:"p3"},[t.ldxInfo&&!t.ldxInfo.partyB&&t.user.newUser?i("v-uni-button",{staticClass:"foot-btn",style:{background:t.tColor},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goSave.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"wei t-o-e"},[t._v(t._s(t.ldxInfo&&t.ldxInfo.activity&&t.ldxInfo.activity.partyBPage&&t.ldxInfo.activity.partyBPage.text||"领取奖励"))])],1):t._e(),t.ldxInfo&&t.ldxInfo.partyB||!t.user.newUser?i("v-uni-button",{staticClass:"foot-btn",style:{background:t.tColor},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.getData.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"wei t-o-e"},[t._v(t._s(t.ldxInfo&&t.ldxInfo.activity&&t.ldxInfo.activity.partyBPage&&t.ldxInfo.activity.partyBPage.bText||"我也要参与"))])],1):t._e()],1)]],2):t._e(),i("mg-share",{attrs:{wxs:"1",hbs:!0},on:{hb:function(a){arguments[0]=a=t.$handleEvent(a),t.goHb.apply(void 0,arguments)}},model:{value:t.shareshow,callback:function(a){t.shareshow=a},expression:"shareshow"}}),i("sq-btn",{ref:"sqBtn",attrs:{type:"1"},on:{rf:function(a){arguments[0]=a=t.$handleEvent(a),t.goSave.apply(void 0,arguments)}}}),i("tcyhq",{attrs:{type:"7",co:t.ldxInfo&&t.ldxInfo.activity&&t.ldxInfo.activity.partyB&&t.ldxInfo.activity.partyB.partyB},on:{close:function(a){arguments[0]=a=t.$handleEvent(a),t.srshow=!1},cj:function(a){arguments[0]=a=t.$handleEvent(a),t.cj.apply(void 0,arguments)},xd:function(a){arguments[0]=a=t.$handleEvent(a),t.xd.apply(void 0,arguments)}},model:{value:t.srshow,callback:function(a){t.srshow=a},expression:"srshow"}})],1)},e=[]},d318:function(t,a,i){"use strict";(function(t){i("6a54");var n=i("f5bd").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,i("5ef2"),i("c223");var e=n(i("2634")),s=n(i("2fdc")),o=(i("8f59"),n(i("77a5"))),c=i("d468"),r=n(i("dbf7")),d=n(i("c52b")),l=n(i("783a")),f=n(i("c474")),u={name:"order-yqyl",components:{mgShare:r.default,sqBtn:d.default,tcyhq:l.default,uniNavBar:f.default},data:function(){return{showLoading:!0,ldxInfo:"",hdInfo:{},partyAid:"",activityId:"",shareshow:!1,srshow:!1}},onLoad:function(a){var i=this;return(0,s.default)((0,e.default)().mark((function n(){var s;return(0,e.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i.util.setNT("邀请有礼"),n.next=3,i.getLoginInfo();case 3:t.log("options",a),a&&a.partyAid&&a.partyAid!=i.user.id?(i.partyAid=a.partyAid,i.getDataB()):a.q&&decodeURIComponent(a.q).indexOf("partyAid")>-1?(s=decodeURIComponent(a.q),i.partyAid=o.default.getUrlParams(s)["partyAid"],i.partyAid==i.user.id?i.getData():i.getDataB()):i.getData();case 5:case"end":return n.stop()}}),n)})))()},mixins:[c.utilMixins],computed:{},methods:{gojl:function(){this.go({t:1,url:"/pages/order/invitation/yqjl?activityId=".concat(this.ldxInfo&&this.ldxInfo.activity&&this.ldxInfo.activity.id)})},gogz:function(){this.go({t:1,url:"/pages/order/invitation/yqgz"})},goHb:function(){this.shareshow=!1,this.go({t:1,url:"/pages/order/invitation/yqhb?id=".concat(this.ldxInfo&&this.ldxInfo.activity&&this.ldxInfo.activity.id)})},ljyq:function(t){var a=this;return(0,s.default)((0,e.default)().mark((function t(){return(0,e.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a.isLogin){t.next=2;break}return t.abrupt("return",a.$refs["sqBtn"].open());case 2:a.shareshow=!0;case 3:case"end":return t.stop()}}),t)})))()},getData:function(){var t=this;return(0,s.default)((0,e.default)().mark((function a(){var i,n;return(0,e.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.partyAid="",a.next=3,t.util.request({url:t.api.ldx});case 3:i=a.sent,n=i.data,t.ldxInfo=n,t.hdInfo=n.activity||{};case 7:case"end":return a.stop()}}),a)})))()},getDataB:function(){var t=this;return(0,s.default)((0,e.default)().mark((function a(){var i,n;return(0,e.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.util.request({url:t.api.ldxb,data:{partyAid:t.partyAid}});case 2:i=a.sent,n=i.data,t.ldxInfo=n,t.hdInfo=n.activity||{};case 6:case"end":return a.stop()}}),a)})))()},goSave:function(){var t=this;return(0,s.default)((0,e.default)().mark((function a(){var i,n,s,o;return(0,e.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.isLogin){a.next=2;break}return a.abrupt("return",t.$refs["sqBtn"].open(t.partyAid));case 2:return a.next=4,t.util.request({url:t.api.ldxb,method:"POST",data:{partyAid:t.partyAid}});case 4:i=a.sent,n=i.data,s=i.msg,o=i.code,n&&200==o&&(t.hdInfo&&t.hdInfo.partyB&&t.hdInfo.partyB.partyB&&t.hdInfo.partyB.partyB.switch&&(t.hdInfo.partyB.partyB.integralSwitch||t.hdInfo.partyB.partyB.couponSwitch)?(t.srshow=!0,t.getDataB()):(t.util.message(s,3),t.getDataB()));case 9:case"end":return a.stop()}}),a)})))()},cj:function(){this.srshow=!1,this.getData()},xd:function(){this.go({t:6,url:"/pages/index/goods"})},handReturn:function(){this.go({t:6,url:"/pages/index/index"})}},onPageScroll:function(t){if(!(this.opcity>=1&&t.scrollTop/64>=1)){var a=t.scrollTop/64;this.opcity=a}},onShareAppMessage:function(){if(this.shareshow=!1,this.ldxInfo&&this.ldxInfo.partyA){var t="pages/order/invitation/yqyl?partyAid=".concat(this.ldxInfo.partyA&&this.ldxInfo.partyA.userId,"&activityId=").concat(this.ldxInfo.activity&&this.ldxInfo.activity.id);return this.util.mpShare({t:this.ldxInfo&&this.ldxInfo.activity&&this.ldxInfo.activity.shearPage&&this.ldxInfo.activity.shearPage.title,i:this.ldxInfo&&this.ldxInfo.activity&&this.ldxInfo.activity.shearPage&&this.getSingleImg(this.ldxInfo.activity.shearPage.bg),p:t})}}};a.default=u}).call(this,i("ba7c")["default"])},fda5:function(t,a,i){"use strict";i.r(a);var n=i("bac7"),e=i("0011");for(var s in e)["default"].indexOf(s)<0&&function(t){i.d(a,t,(function(){return e[t]}))}(s);i("2c6b");var o=i("828b"),c=Object(o["a"])(e["default"],n["b"],n["c"],!1,null,"45c85cc0",null,!1,n["a"],void 0);a["default"]=c.exports}}]);