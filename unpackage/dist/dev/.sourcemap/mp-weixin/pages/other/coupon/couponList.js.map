{"version":3,"sources":["uni-app:///main.js","webpack:///H:/work/ybv3前端0126/用户端小程序/pages/other/coupon/couponList.vue?da18","webpack:///H:/work/ybv3前端0126/用户端小程序/pages/other/coupon/couponList.vue?ec3b","webpack:///H:/work/ybv3前端0126/用户端小程序/pages/other/coupon/couponList.vue?36ef","webpack:///H:/work/ybv3前端0126/用户端小程序/pages/other/coupon/couponList.vue?d3b2","uni-app:///pages/other/coupon/couponList.vue","webpack:///H:/work/ybv3前端0126/用户端小程序/pages/other/coupon/couponList.vue?7f5d","webpack:///H:/work/ybv3前端0126/用户端小程序/pages/other/coupon/couponList.vue?7b6b"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","name","components","jzz","iDefault","myCoupon","sqBtn","userPrivacy","data","isload","params","page","size","state","fx","cInfo","onReady","success","_this","fail","complete","console","onLoad","mixins","computed","onShow","methods","refresh","changeTab","getList","getCoupon","ljlq","msg","qxzs","fxd","goDhm","url","t","ljdy","onShareAppMessage","i","p"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,mBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmI;AACnI;AAC8D;AACL;AACsC;;;AAG/F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,iGAAM;AACR,EAAE,0GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9JA;AAAA;AAAA;AAAA;AAAomB,CAAgB,8nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;AC2FxnB;AASA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAGA;EACAC;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;IAEApB;MACAqB;QACA;UACAC;UACA;QACA;MACA;MACAC;MACAC;QACAC;MACA;IACA;EAEA;EACAC;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACA;YAAA;cAAA;cAAA,OACA;YAAA;cAAA;gBAAA;gBAAA;cAAA;cAAA;YAAA;cACAD;cACA;gBACA;gBACA;gBACA;gBACA;cACA;gBACA;gBACA;gBACA;cACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EACA;EACAE;EACAC;EACAC;IACA;MACA;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAGA;kBACA;kBACArB;gBACA;cAAA;gBAAA;gBAJAA;gBAKA;gBACA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAsB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAGA;kBACA;gBACA;cAAA;gBAAA;gBAHAtB;gBAIA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAuB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;cAAA;gBAAA;gBAAA,OAKA;kBACA;kBACA;gBACA;cAAA;gBAAA;gBAJAC;gBAKA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBAAA;gBAAA,OAGA;kBACA;kBACA;gBACA;cAAA;gBAAA;gBAJAD;gBAKA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAE;MACAb;MACA;IACA;IACAc;MACA;QACAC;QACAC;MACA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA;gBAAA,OAEA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAIA;EACA;EACAC;IACA;IACA;MACAF;MACAG;MACAC;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACxPA;AAAA;AAAA;AAAA;AAAuqC,CAAgB,6oCAAG,EAAC,C;;;;;;;;;;;ACA3rC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/other/coupon/couponList.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/other/coupon/couponList.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./couponList.vue?vue&type=template&id=ebf15e76&scoped=true&\"\nvar renderjs\nimport script from \"./couponList.vue?vue&type=script&lang=js&\"\nexport * from \"./couponList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./couponList.vue?vue&type=style&index=0&id=ebf15e76&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ebf15e76\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/other/coupon/couponList.vue\"\nexport default component.exports","export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./couponList.vue?vue&type=template&id=ebf15e76&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 =\n    !_vm.isload &&\n    _vm.cInfo &&\n    _vm.cInfo.coupon &&\n    _vm.user.id &&\n    _vm.cInfo.member &&\n    _vm.user.id != _vm.cInfo.member.id\n      ? _vm.$t(\"other-coupon.your_friend\")\n      : null\n  var m1 =\n    !_vm.isload &&\n    _vm.cInfo &&\n    _vm.cInfo.coupon &&\n    _vm.user.id &&\n    _vm.cInfo.member &&\n    _vm.user.id != _vm.cInfo.member.id\n      ? _vm.$t(\"other-coupon.send_you_coupon\")\n      : null\n  var m2 =\n    !_vm.isload &&\n    _vm.cInfo &&\n    _vm.cInfo.coupon &&\n    _vm.cInfo.coupon.startSwitch == 0\n      ? _vm.$t(\"other-coupon.no_limit\")\n      : null\n  var m3 =\n    !_vm.isload &&\n    _vm.cInfo &&\n    _vm.cInfo.coupon &&\n    !(_vm.cInfo.coupon.startSwitch == 0) &&\n    _vm.cInfo.coupon.startSwitch == 1\n      ? _vm.$t(\"other-coupon.full\")\n      : null\n  var m4 =\n    !_vm.isload &&\n    _vm.cInfo &&\n    _vm.cInfo.coupon &&\n    !(_vm.cInfo.coupon.startSwitch == 0) &&\n    _vm.cInfo.coupon.startSwitch == 1\n      ? _vm.cInfo.coupon.startMoney && parseFloat(_vm.cInfo.coupon.startMoney)\n      : null\n  var m5 =\n    !_vm.isload &&\n    _vm.cInfo &&\n    _vm.cInfo.coupon &&\n    !(_vm.cInfo.coupon.startSwitch == 0) &&\n    _vm.cInfo.coupon.startSwitch == 1\n      ? _vm.$t(\"other-coupon.available\")\n      : null\n  var m6 =\n    !_vm.isload &&\n    _vm.cInfo &&\n    _vm.cInfo.coupon &&\n    _vm.user.id &&\n    _vm.cInfo.member &&\n    _vm.user.id == _vm.cInfo.member.id &&\n    _vm.cInfo.state == 0\n      ? _vm.$t(\"other-coupon.friend_not_received\")\n      : null\n  var m7 =\n    !_vm.isload &&\n    _vm.cInfo &&\n    _vm.cInfo.coupon &&\n    _vm.user.id &&\n    _vm.cInfo.member &&\n    _vm.user.id == _vm.cInfo.member.id &&\n    _vm.cInfo.state == 0\n      ? _vm.$t(\"other-coupon.auto_return_hours\")\n      : null\n  var m8 =\n    !_vm.isload &&\n    _vm.cInfo &&\n    _vm.cInfo.coupon &&\n    _vm.user.id &&\n    _vm.cInfo.member &&\n    _vm.user.id == _vm.cInfo.member.id &&\n    _vm.cInfo.state == 0\n      ? _vm.$t(\"other-coupon.cancel_gift\")\n      : null\n  var m9 =\n    !_vm.isload &&\n    _vm.cInfo &&\n    _vm.cInfo.coupon &&\n    _vm.user.id &&\n    _vm.cInfo.member &&\n    _vm.user.id == _vm.cInfo.member.id &&\n    !(_vm.cInfo.state == 0) &&\n    _vm.cInfo.state == 1 &&\n    _vm.cInfo.receiveMember\n      ? _vm.$t(\"other-coupon.receive\")\n      : null\n  var m10 =\n    !_vm.isload &&\n    _vm.cInfo &&\n    _vm.cInfo.coupon &&\n    _vm.user.id &&\n    _vm.cInfo.member &&\n    _vm.user.id == _vm.cInfo.member.id &&\n    !(_vm.cInfo.state == 0) &&\n    !(_vm.cInfo.state == 1 && _vm.cInfo.receiveMember) &&\n    _vm.cInfo.state == 2\n      ? _vm.$t(\"other-coupon.coupon_canceled\")\n      : null\n  var m11 =\n    !_vm.isload &&\n    _vm.cInfo &&\n    _vm.cInfo.coupon &&\n    !(_vm.user.id && _vm.cInfo.member && _vm.user.id == _vm.cInfo.member.id) &&\n    _vm.cInfo.state == 0\n      ? _vm.$t(\"other-coupon.immediate_receive\")\n      : null\n  var m12 =\n    !_vm.isload &&\n    _vm.cInfo &&\n    _vm.cInfo.coupon &&\n    !(_vm.user.id && _vm.cInfo.member && _vm.user.id == _vm.cInfo.member.id) &&\n    !(_vm.cInfo.state == 0) &&\n    _vm.cInfo.state == 1\n      ? _vm.$t(\"other-coupon.coupon_received\")\n      : null\n  var m13 = !!_vm.isload ? _vm.$t(\"other-coupon.exchange_coupon\") : null\n  var g0 = !!_vm.isload ? _vm.dataList.length == 0 && _vm.isget : null\n  var g1 = !!_vm.isload ? !_vm.dataList || _vm.dataList.length <= 0 : null\n  var m14 = !!_vm.isload ? _vm.$t(\"other-coupon.coupon_history\") : null\n  var m15 = !!_vm.isload ? _vm.$t(\"other-coupon.gift_record\") : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        m4: m4,\n        m5: m5,\n        m6: m6,\n        m7: m7,\n        m8: m8,\n        m9: m9,\n        m10: m10,\n        m11: m11,\n        m12: m12,\n        m13: m13,\n        g0: g0,\n        g1: g1,\n        m14: m14,\n        m15: m15,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./couponList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./couponList.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"coupon h-100\">\r\n\t\t<block v-if=\"!isload\">\r\n\t\t\t<view class=\"bf5 h-100\" v-if=\"cInfo && cInfo.coupon\">\r\n\t\t\t\t<view class=\"f-c flex-column\">\r\n\t\t\t\t\t<view class=\"mt120\" v-if=\"user.id && cInfo.member && user.id!=cInfo.member.id\">\r\n\t\t\t\t\t\t<view class=\"c9\">\r\n\t\t\t\t\t\t\t{{$t(\"other-coupon.your_friend\")}}“{{cInfo.member.nickname}}”，{{$t(\"other-coupon.send_you_coupon\")}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cimg posi-r f-c mt90\">\r\n\t\t\t\t\t\t<image :src='`${onImgurl}other/cp.png`' mode=\"aspectFill\" class=\"wh\">\r\n\t\t\t\t\t\t\t<view class=\"posi-a ctxt f-c-c t-o-e\">\r\n\t\t\t\t\t\t\t\t<view class=\"f50 wei f-g-1\">{{cInfo.coupon.name}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"mt10 f34\">\r\n\t\t\t\t\t\t\t\t\t<span v-if=\"cInfo.coupon.startSwitch==0\">{{$t(\"other-coupon.no_limit\")}}</span>\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tv-else-if=\"cInfo.coupon.startSwitch==1\">{{$t(\"other-coupon.full\")}}{{cInfo.coupon.startMoney && parseFloat(cInfo.coupon.startMoney)}}THB{{$t(\"other-coupon.available\")}}</span>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"p3 mt90\">\r\n\t\t\t\t\t<view class=\"flex-column f-c\" v-if=\"user.id && cInfo.member && user.id==cInfo.member.id\">\r\n\t\t\t\t\t\t<block v-if=\"cInfo.state==0\">\r\n\t\t\t\t\t\t\t<view class=\"c9\">\r\n\t\t\t\t\t\t\t\t{{$t(\"other-coupon.friend_not_received\")}}，24{{$t(\"other-coupon.auto_return_hours\")}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<button class=\"cf xzhy f-c bs60 mt30\" @click=\"qxzs(cInfo.id,cInfo.memberCouponId)\"\r\n\t\t\t\t\t\t\t\t:style=\"{background:tColor}\">{{$t(\"other-coupon.cancel_gift\")}}</button>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<block v-else-if=\"cInfo.state==1 && cInfo.receiveMember\">\r\n\t\t\t\t\t\t\t<view class=\"c9\">“{{cInfo.receiveMember.nickname}}”{{$t(\"other-coupon.receive\")}}</view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<block v-else-if=\"cInfo.state==2\">\r\n\t\t\t\t\t\t\t<view class=\"c9\">{{$t(\"other-coupon.coupon_canceled\")}}</view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"f-c\" v-else>\r\n\t\t\t\t\t\t<button v-if=\"cInfo.state==0\" class=\"cf xzhy f-c bs60 mt30\"\r\n\t\t\t\t\t\t\t@click=\"ljlq(cInfo.id,cInfo.memberCouponId)\"\r\n\t\t\t\t\t\t\t:style=\"{background:tColor}\">{{$t(\"other-coupon.immediate_receive\")}}</button>\r\n\t\t\t\t\t\t<button v-else-if=\"cInfo.state==1\" class=\"cf xzhy f-c bs60 mt30\" :style=\"{background:tColor}\"\r\n\t\t\t\t\t\t\t@click=\"go({t: 6,url: '/pages/index/my-index'})\">{{$t(\"other-coupon.coupon_received\")}}</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</block>\r\n\t\t<block v-else>\r\n\t\t\t<!-- <view class=\"f-bt p2 dy\">\r\n\t\t\t\t<view class=\"f-g-1 c6\">开启优惠券过期/到账提醒</view>\r\n\t\t\t\t<view class=\"f-g-0 f-c btn bs30 cf f22\" :style=\"{background:tColor}\" @click=\"ljdy\">立即订阅</view>\r\n\t\t\t</view> -->\r\n\t\t\t<view class=\"p2\">\r\n\t\t\t\t<view class=\"dh f-bt p-10-30 bf bs30 f-y-c\" :style=\"{color:tColor}\">\r\n\t\t\t\t\t<view class=\"f-g-1 flex f-y-c\" @click=\"goDhm\">\r\n\t\t\t\t\t\t<text class=\"iconfont icon-gengxin f32 mr10 c3\" :style=\"{color:tColor}\"></text>\r\n\t\t\t\t\t\t<view>{{$t(\"other-coupon.exchange_coupon\")}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"f-g-0\"><text class=\"iconfont icon-youjiantou c3 f30\" :style=\"{color:tColor}\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"p2 ccoupon\">\r\n\t\t\t\t<my-coupon :color='tColor' cname='mb30' v-for=\"(v,i) in dataList\" :key='i' :co='v.coupon' :v=\"v\"\r\n\t\t\t\t\tttype='2' @fx=\"fxd\" @rf=\"changeTab\"></my-coupon>\r\n\t\t\t\t<jzz bgcolor=\"transparent\" imgn='zwhb' :nodata=\"dataList.length==0&&isget\" :mygd='mygd' />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"pt150\">\r\n\t\t\t\t<i-default :imgn=\"2\" v-if=\"!dataList || dataList.length<=0\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"foot-btnc c3 f28 bf f-bt f-y-c\" :style=\"{padding: '20rpx',bottom: isIpx?'40rpx':0}\">\r\n\t\t\t\t<view class=\"f-g-1 f-c\" @click=\"go({url:'hisCoupon'})\">{{$t(\"other-coupon.coupon_history\")}}</view>\r\n\t\t\t\t<view class=\"f-g-0 bline\"></view>\r\n\t\t\t\t<view class=\"f-g-1 f-c\" @click=\"go({url:'givedl'})\">{{$t(\"other-coupon.gift_record\")}}</view>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"isIpx\" class='bgf'></view>\r\n\t\t</block>\r\n\t\t\r\n\t\t \r\n\t\t<sq-btn type=\"1\" ref=\"sqBtn\"></sq-btn>\r\n\t\t<userPrivacy ref=\"privacy\"></userPrivacy>\r\n\t\r\n\t\t<view class=\"posi-r\">\r\n\t\t\t<tab-bar></tab-bar>\r\n\t\t</view>\r\n\t\t\t \r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapActions\r\n\t} from 'vuex'\r\n\timport jzz from '@/components/common/jzz.vue'\r\n\timport iDefault from '@/components/common/default.vue'\r\n\timport myCoupon from '@/components/common/my-coupon.vue'\r\n\timport sqBtn from '@/components/common/sq-btn.vue'\r\n\timport userPrivacy from \"@/components/user/userPrivacy.vue\";\r\n\timport {\r\n\t\tsljz\r\n\t} from \"@/common/util-mixins.js\"\r\n\texport default {\r\n\t\tname: 'coupon-list',\r\n\t\tcomponents: {\r\n\t\t\tjzz,\r\n\t\t\tiDefault,\r\n\t\t\tmyCoupon,\r\n\t\t\tsqBtn,\r\n\t\t\tuserPrivacy,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisload: '',\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tsize: 10,\r\n\t\t\t\t\tstate: 'normal',\r\n\t\t\t\t},\r\n\t\t\t\tfx: {},\r\n\t\t\t\tcInfo: {},\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tvar _this = this;\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\twx.getPrivacySetting({\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.needAuthorization) {\r\n\t\t\t\t\t\t_this.$refs.privacy.open(res.privacyContractName)\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail: () => {},\r\n\t\t\t\tcomplete: (res) => {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tasync onLoad(options) {\r\n\t\t\tawait this.getLoginInfo()\r\n\t\t\tif (!await this.checkLogin()) return\r\n\t\t\tconsole.log('options', options)\r\n\t\t\tif (options && options.couponId) {\r\n\t\t\t\tthis.isload = false\r\n\t\t\t\tthis.util.setNT(this.$t(\"other-coupon.coupon_collection\"))\r\n\t\t\t\tthis.query = options\r\n\t\t\t\tthis.getCoupon(options.couponId)\r\n\t\t\t} else {\r\n\t\t\t\tthis.isload = true\r\n\t\t\t\tthis.refresh()\r\n\t\t\t\tthis.util.setNT(this.$t(\"other-coupon.my_coupons\"))\r\n\t\t\t}\r\n\t\t\t// this.getList()\r\n\t\t},\r\n\t\tmixins: [sljz],\r\n\t\tcomputed: {},\r\n\t\tonShow() {\r\n\t\t\tif (this.isload) {\r\n\t\t\t\tthis.refresh()\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\trefresh() {\r\n\t\t\t\tthis.changeTab(this.aIdx)\r\n\t\t\t},\r\n\t\t\tchangeTab(e) {\r\n\t\t\t\tthis.isget = this.mygd = false\r\n\t\t\t\tthis.params.page = 1\r\n\t\t\t\tthis.dataList = []\r\n\t\t\t\tthis.getList()\r\n\t\t\t},\r\n\t\t\tasync getList() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.util.request({\r\n\t\t\t\t\t'url': this.api.mycp,\r\n\t\t\t\t\tdata: this.params,\r\n\t\t\t\t})\r\n\t\t\t\tthis.dataList = this.dataList.concat(data.list)\r\n\t\t\t\tthis.isget = true\r\n\t\t\t\tthis.mygd = this.params.size > data.list.length\r\n\t\t\t\tthis.params.page++\r\n\t\t\t},\r\n\t\t\tasync getCoupon(id) {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.util.request({\r\n\t\t\t\t\t'url': `${this.api.yhqzz}/${id}`,\r\n\t\t\t\t})\r\n\t\t\t\tthis.cInfo = data\r\n\t\t\t},\r\n\t\t\tasync ljlq(id, cid) {\r\n\t\t\t\tif (!this.isLogin) {\r\n\t\t\t\t\tthis.$refs['sqBtn'].open()\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet {\r\n\t\t\t\t\tmsg\r\n\t\t\t\t} = await this.util.request({\r\n\t\t\t\t\t'url': `${this.api.jszz}/${id}`,\r\n\t\t\t\t\t'method': 'POST',\r\n\t\t\t\t})\r\n\t\t\t\tthis.util.message(msg, 1, 1000)\r\n\t\t\t\tthis.getCoupon(cid)\r\n\t\t\t},\r\n\t\t\tasync qxzs(id, cid) {\r\n\t\t\t\tawait this.util.modal(this.$t(\"other-coupon.confirm_cancel_gift\"))\r\n\t\t\t\tlet {\r\n\t\t\t\t\tmsg\r\n\t\t\t\t} = await this.util.request({\r\n\t\t\t\t\t'url': `${this.api.yhqzz}/${id}`,\r\n\t\t\t\t\t'method': 'DELETE',\r\n\t\t\t\t})\r\n\t\t\t\tthis.util.message(msg, 1, 1000)\r\n\t\t\t\tthis.getCoupon(cid)\r\n\t\t\t},\r\n\t\t\tfxd(v) {\r\n\t\t\t\tconsole.log(v)\r\n\t\t\t\tthis.fx = v\r\n\t\t\t},\r\n\t\t\tgoDhm() {\r\n\t\t\t\tthis.go({\r\n\t\t\t\t\turl: `/pages/other/coupon/dhm?type=1`,\r\n\t\t\t\t\tt: 1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync ljdy() {\r\n\t\t\t\tif (!this.jjmbxx) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tawait this.requestSM(['coupon', 'couponOverdue', 'activity'])\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tthis.jjmbxx = true\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tonShareAppMessage() {\r\n\t\t\tlet p = `pages/other/coupon/couponList?couponId=${this.fx.id}&userId=${this.uId}`\r\n\t\t\treturn this.util.mpShare({\r\n\t\t\t\tt: this.fx.coupon.regiftTitle,\r\n\t\t\t\ti: this.getImgS(this.fx.coupon.regiftImage),\r\n\t\t\t\tp,\r\n\t\t\t})\r\n\t\t},\r\n\t}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n\t.coupon {\r\n\t\t.dy {\r\n\t\t\tbox-shadow: 0rpx 4rpx 20rpx 0rpx rgba(221, 221, 221, 0.8);\r\n\r\n\t\t\t.btn {\r\n\t\t\t\twidth: 130rpx;\r\n\t\t\t\theight: 44rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.cimg {\r\n\t\t\twidth: 640rpx;\r\n\t\t\theight: 460rpx;\r\n\r\n\r\n\t\t\t.ctxt {\r\n\t\t\t\tcolor: #F63D2C;\r\n\t\t\t\twidth: 480rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.xzhy {\r\n\t\t\twidth: 400rpx;\r\n\t\t\theight: 90rpx;\r\n\t\t}\r\n\r\n\t\t.bline {\r\n\t\t\theight: 26rpx;\r\n\t\t\twidth: 2rpx;\r\n\t\t\tbackground: #ddd;\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./couponList.vue?vue&type=style&index=0&id=ebf15e76&scoped=true&lang=scss&\"; export default mod; export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./couponList.vue?vue&type=style&index=0&id=ebf15e76&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1735024174525\n      var cssReload = require(\"C:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}