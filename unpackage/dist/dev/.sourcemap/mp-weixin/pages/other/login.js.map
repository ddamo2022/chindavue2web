{"version":3,"sources":["uni-app:///main.js","webpack:///H:/work/ybv3前端0126/用户端小程序/pages/other/login.vue?6af6","webpack:///H:/work/ybv3前端0126/用户端小程序/pages/other/login.vue?ef27","webpack:///H:/work/ybv3前端0126/用户端小程序/pages/other/login.vue?b135","webpack:///H:/work/ybv3前端0126/用户端小程序/pages/other/login.vue?0cc7","uni-app:///pages/other/login.vue","webpack:///H:/work/ybv3前端0126/用户端小程序/pages/other/login.vue?6fa0","webpack:///H:/work/ybv3前端0126/用户端小程序/pages/other/login.vue?e49d"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","username","password","userProfile","components","uniNavBar","onLoad","liffId","_this","liff","profile","console","mounted","methods","linelogin","method","id","name","rest","redirectPath","uni","url","initializeFacebookSDK","login","openforgot","openregister","openlogin","window","getApp","currentPage","currentPath","FB","response","fields","email","userResponse","scope","facebooklogin"],"mappings":"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","file":"pages/other/login.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/other/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=411ac2c1&scoped=true&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=411ac2c1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"411ac2c1\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/other/login.vue\"\nexport default component.exports","export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=template&id=411ac2c1&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.$t(\"login.welcome_message\")\n  var m1 = _vm.$t(\"login.enter_email_or_phone\")\n  var m2 = _vm.$t(\"login.enter_password\")\n  var m3 = _vm.$t(\"login.login\")\n  var m4 = _vm.$t(\"login.forgot_password\")\n  var m5 = _vm.$t(\"login.no_account\")\n  var m6 = _vm.$t(\"login.register\")\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        m4: m4,\n        m5: m5,\n        m6: m6,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"","<template>\r\n\r\n\t<view class=\"content\">\r\n\t\t<uni-nav-bar id='uninavbar' :uropcity=\"0\" :uriconopcity='0' :fixed='true' :ispr='false' :border='false'\r\n\t\t\t:statusBar=\"true\" :isleft='false'>\r\n\t\t\t<view slot='left' class=\"f-c c0\" @click=\"go({t: 4})\">\r\n\t\t\t\t<text class=\"iconfont icon-right c3 f34\"></text>\r\n\t\t\t</view>\r\n\t\t</uni-nav-bar>\r\n\r\n\t\t<view class=\"topBox\">\r\n\r\n\t\t</view>\r\n\t\t<view class=\"inputBox\">\r\n\t\t\t<view class=\"Boxtop\">\r\n\t\t\t\t<h3>WELCOME</h3>\r\n\t\t\t\t<h3>{{$t(\"login.welcome_message\")}}Damofoods</h3>\r\n\t\t\t\t<!-- \t<p>是否是line客户端： {{$liff.isInClient()}}</p>\r\n\t\t\t\t<p>是否登录： {{$liff.isLoggedIn()}}</p> -->\r\n\t\t\t\t<!-- <div v-if=\"userProfile\">\r\n\t\t\t\t\t<p>Welcome, {{ userProfile.displayName }}!</p>\r\n\t\t\t\t\t<img :src=\"userProfile.pictureUrl\" alt=\"User profile picture\">\r\n\t\t\t\t</div> -->\r\n\r\n\t\t\t</view>\r\n\t\t\t<view class=\"ipt\">\r\n\t\t\t\t<input v-model=\"username\" :placeholder=\"$t('login.enter_email_or_phone')\" class=\"f30\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"ipt\">\r\n\t\t\t\t<input password type=\"text\" v-model=\"password\" :placeholder=\"$t('login.enter_password')\" />\r\n\t\t\t</view>\r\n\t\t\t<button class=\"loginBtn\" @click=\"login\">{{$t(\"login.login\")}}</button>\r\n\t\t\t<view class=\"forgetPwd\">\r\n\t\t\t\t<span @click=\"openforgot()\">{{$t(\"login.forgot_password\")}}</span>\r\n\t\t\t\t<span @click=\"openregister()\">{{$t(\"login.no_account\")}}，{{$t(\"login.register\")}}</span>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- #ifdef  H5 -->\r\n\t\t\t<view class=\"tipbox\">\r\n\t\t\t\t<view class=\"txt\">\r\n\t\t\t\t\t—— {{$t(\"login.third_party_login\")}} ——\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- \t\t<view class=\"otherUser\">\r\n\r\n\t\t\t\t\t<image class=\"btnicon\" @click=\"openlogin(1)\" src=\"../../static/tx/line.png\"></image>\r\n\t\t\t\t\t<image class=\"btnicon\" style=\"margin-left: 60rpx;\" @click=\"openlogin(2)\" src=\"../../static/tx/facebook.png\"></image>\r\n\t\t\t\t</view> -->\r\n\r\n\t\t\t\t<view class=\"otherUser\">\r\n\t\t\t\t\t<view class=\"button-container\">\r\n\t\t\t\t\t\t<button class=\"login-button line-button\" @click=\"openlogin(1)\">\r\n\t\t\t\t\t\t\t<image src=\"/static/line-icon.png\" class=\"icon\"></image>\r\n\t\t\t\t\t\t\tLogin with LINE\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button class=\"login-button facebook-button\" @click=\"openlogin(2)\">\r\n\t\t\t\t\t\t\t<image src=\"/static/facebook-icon.png\" class=\"icon\"></image>\r\n\t\t\t\t\t\t\tLogin with Facebook\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tloadLineSDK\r\n\t} from '@/common/line-sdk-loader.js';\r\n\timport uniNavBar from \"@/components/third/uni-nav-bar.vue\"\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapMutations,\r\n\t\tmapActions\r\n\t} from 'vuex'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tusername: '',\r\n\t\t\t\tpassword: '',\r\n\t\t\t\tuserProfile: null\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tuniNavBar,\r\n\t\t},\r\n\t\tasync onLoad(options) {\r\n\t\t\tif (!this.isLogin) {\r\n\t\t\t\tlet liffId = getApp().globalData.siteInfo.liffId\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\t//\tconsole.log('login-linisLoggedIn', liff.isLoggedIn())\r\n\t\t\t\tloadLineSDK(liffId).then(async (liff) => {\r\n\t\t\t\t\tif (liff.isLoggedIn()) {\r\n\t\t\t\t\t\treturn liff.getProfile();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (liff.isInClient()) {\r\n\t\t\t\t\t\t\treturn liff.login()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(async profile => {\r\n\r\n\t\t\t\t\tif (profile && profile.userId) {\r\n\t\t\t\t\t\tconsole.log(profile)\r\n\t\t\t\t\t\tawait _this.linelogin(profile.userId, profile.displayName)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.initializeFacebookSDK();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations([\"setMobile\", \"setToken\", \"setUser\"]),\r\n\t\t\tasync linelogin(id, name) {\r\n\t\t\t\tvar rest = await this.util.request({\r\n\t\t\t\t\t'url': this.api.lineLogin,\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: id,\r\n\t\t\t\t\t\tname: name\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tif (rest.data) {\r\n\t\t\t\t\tthis.setToken(rest.data.token)\r\n\t\t\t\t\tthis.setUser(rest.data.userInfo)\r\n\t\t\t\t\tthis.util.message(this.$t('sq-btn.login_successful'), 1, 1000)\r\n\r\n\t\t\t\t\tconst redirectPath = uni.getStorageSync('redirectPath') || '/';\r\n\t\t\t\t\tuni.removeStorageSync('redirectPath');\r\n\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\turl: redirectPath\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinitializeFacebookSDK() {\r\n\t\t\t\tthis.$loadFacebookSDK().then(FB => {\r\n\t\t\t\t\t//this.fbReady = true;\r\n\t\t\t\t\tconsole.log('Facebook SDK loaded and initialized.');\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tconsole.error('Error loading Facebook SDK:', error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tasync login() {\r\n\t\t\t\tif (!this.username) {\r\n\t\t\t\t\treturn this.util.message(this.$t(\"login.enter_email_or_phone_placeholder\"), 3)\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.password) {\r\n\t\t\t\t\treturn this.util.message(this.$t(\"login.enter_password_placeholder\"), 3)\r\n\t\t\t\t}\r\n\t\t\t\tlet rest = await this.util.request({\r\n\t\t\t\t\t'url': this.api.emaillogin,\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tusername: this.username,\r\n\t\t\t\t\t\tpassword: this.password,\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(async (rest) => {\r\n\r\n\t\t\t\t\tif (rest.data) {\r\n\t\t\t\t\t\tconsole.log('rest', rest.data.token)\r\n\t\t\t\t\t\t// this.setToken(rest.data.token)\r\n\t\t\t\t\t\t// this.setUser(rest.data.userInfo)\r\n\t\t\t\t\t\tthis.$store.commit('setUser', rest.data.userInfo);\r\n\t\t\t\t\t\tthis.$store.commit('setToken', rest.data.token);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.util.message(this.$t('sq-btn.login_successful'), 1, 1000)\r\n\r\n\t\t\t\t\t\tconst redirectPath = uni.getStorageSync('redirectPath') || '/';\r\n\t\t\t\t\t\tuni.removeStorageSync('redirectPath');\r\n\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\turl: redirectPath\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// uni.reLaunch({\r\n\t\t\t\t\t\t// \turl: '/pages/index/index'\r\n\t\t\t\t\t\t// })\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn this.util.message(rest.msg, 3)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((e) => {\r\n\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\topenforgot() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/other/forgetting'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\topenregister() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/other/register'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync openlogin(type) {\r\n\t\t\t\tconst redirectPath = uni.getStorageSync('redirectPath') || '/';\r\n\t\t\t\t//uni.removeStorageSync('redirectPath');\r\n\t\t\t\tconsole.log(redirectPath)\r\n\t\t\t\tconsole.log(getApp().globalData.siteInfo.siteroot)\r\n\t\t\t\tvar url = `${getApp().globalData.siteInfo.siteroot}/h5/#${redirectPath}`\r\n\t\t\t\tconsole.log(url)\r\n\t\t\t\tif (type == 1) {\r\n\t\t\t\t\twindow.location.href =\r\n\t\t\t\t\t\t`${getApp().globalData.siteInfo.siteroot}/line/${getApp().globalData.siteInfo.uniacid}?refererUrl=${btoa(url)}`\r\n\t\t\t\t\tconst currentPage = getCurrentPages().pop();\r\n\t\t\t\t\tconst currentPath =\r\n\t\t\t\t\t\t`/${currentPage.route}${currentPage.options ? '?' + Object.keys(currentPage.options).map(key => `${key}=${currentPage.options[key]}`).join('&') : ''}`;\r\n\r\n\t\t\t\t\t//window.liff.login();\r\n\t\t\t\t}\r\n\t\t\t\tif (type == 2) {\r\n\r\n\t\t\t\t\t// window.location.href =\r\n\t\t\t\t\t// \t`${getApp().globalData.siteInfo.siteroot}/facebook/${getApp().globalData.siteInfo.uniacid}?refererUrl=${btoa(url)}`\r\n\t\t\t\t\tvar _this = this;\r\n\t\t\t\t\tFB.login(async function(response) {\r\n\t\t\t\t\t\tif (response.authResponse) {\r\n\t\t\t\t\t\t\tconsole.log('Welcome! Fetching your information....');\r\n\t\t\t\t\t\t\tFB.api('/me', {\r\n\t\t\t\t\t\t\t\tfields: 'id,name,email'\r\n\t\t\t\t\t\t\t}, async function(userResponse) {\r\n\t\t\t\t\t\t\t\tconsole.log(userResponse);\r\n\t\t\t\t\t\t\t\tconsole.log('Good to see you, ' + userResponse.name + '.');\r\n\t\t\t\t\t\t\t\tvar name = \"\"\r\n\t\t\t\t\t\t\t\tif (userResponse.name) {\r\n\t\t\t\t\t\t\t\t\tname = userResponse.name\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tvar email = \"\";\r\n\t\t\t\t\t\t\t\tif (userResponse.email) {\r\n\t\t\t\t\t\t\t\t\temail = userResponse.email;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (userResponse.id) {\r\n\t\t\t\t\t\t\t\t\tawait _this.facebooklogin(userResponse.id, name, email)\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\treturn _this.util.message(_this.$t(\r\n\t\t\t\t\t\t\t\t\t\t\"modal.authorization_failed\"), 3)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log('User cancelled login or did not fully authorize.');\r\n\t\t\t\t\t\t\treturn _this.util.message(_this.$t(\"modal.authorization_failed\"), 3)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tscope: 'public_profile,email'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tasync facebooklogin(id, name, email) {\r\n\t\t\t\tvar rest = await this.util.request({\r\n\t\t\t\t\t'url': this.api.facebookLogin,\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: id,\r\n\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\temail: email\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tif (rest.data) {\r\n\t\t\t\t\t// this.setToken(rest.data.token)\r\n\t\t\t\t\t// this.setUser(rest.data.userInfo)\r\n\t\t\t\t\tthis.$store.commit('setUser', rest.data.userInfo);\r\n\t\t\t\t\tthis.$store.commit('setToken', rest.data.token);\r\n\t\t\t\t\tthis.util.message(this.$t('sq-btn.login_successful'), 1, 1000)\r\n\r\n\t\t\t\t\tconst redirectPath = uni.getStorageSync('redirectPath') || '/';\r\n\t\t\t\t\tuni.removeStorageSync('redirectPath');\r\n\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\turl: redirectPath\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.icon-right {\r\n\t\ttransform: rotateZ(180deg);\r\n\t}\r\n\r\n\t.content {\r\n\t\theight: 100vh;\r\n\t\t/* background-color: aquamarine; */\r\n\t\t/* background: url(\"@/static/tx/bj.jpg\") no-repeat; */\r\n\t\tbackground-size: cover;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\n\t.topBox {\r\n\t\tfont-size: 34rpx;\r\n\t\tcolor: #fff;\r\n\t\tpadding: 80rpx 30rpx;\r\n\t}\r\n\r\n\th3 {\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\r\n\t.Boxtop {\r\n\t\tfont-size: 34rpx;\r\n\t\tpadding: 80rpx 0rpx;\r\n\t}\r\n\r\n\t.inputBox {\r\n\t\tposition: fixed;\r\n\t\ttop: 70rpx;\r\n\t\tleft: 0;\r\n\t\twidth: 750rpx;\r\n\t\theight: 85vh;\r\n\t\tbackground-color: #fff;\r\n\t\t/* \tborder-top-left-radius: 40rpx;\r\n\t\tborder-top-right-radius: 40rpx;\r\n */\r\n\t\tpadding: 80rpx 60rpx 60rpx 60rpx;\r\n\t\t/* box-sizing: border-box; */\r\n\t}\r\n\r\n\t.ipt {\r\n\t\tmargin-bottom: 50rpx;\r\n\r\n\t}\r\n\r\n\t.ipt h4 {\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tfont-size: 36rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t/* \t.ipt input {\r\n\t\tborder-bottom: 1px solid #dedede;\r\n\t\tpadding-bottom: 20rpx;\r\n\t\tfont-size: 28rpx;\r\n\t} */\r\n\r\n\t.loginBtn {\r\n\t\tmargin-top: 30rpx;\r\n\t\tline-height: 85rpx;\r\n\t\ttext-align: center;\r\n\t\tbackground: linear-gradient(to right, rgb(177, 30, 35), rgb(177, 30, 35));\r\n\t\tborder-radius: 40rpx;\r\n\t\tcolor: #fff;\r\n\t\tmargin-top: 50rpx;\r\n\t}\r\n\r\n\t.registerBtn {\r\n\t\tmargin-top: 20rpx;\r\n\t\tline-height: 85rpx;\r\n\t\ttext-align: center;\r\n\t\tborder-radius: 40rpx;\r\n\r\n\t\tcolor: rgb(255, 255, 255);\r\n\t\tmargin-top: 50rpx;\r\n\t\tborder: none;\r\n\t}\r\n\r\n\t.tipbox {\r\n\t\t/* \tposition: fixed;\r\n\t\tbottom: 320rpx;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%, -120px); */\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 40rpx;\r\n\t}\r\n\r\n\t.otherUser {\r\n\t\tmargin-top: 30rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\r\n\r\n\t}\r\n\r\n\t.button-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 25rpx;\r\n\t}\r\n\r\n\t.login-button {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tborder-radius: 10rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #ffffff;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.icon {\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t\t/* margin-right: 20rpx; */\r\n\t}\r\n\r\n\t.line-button {\r\n\t\tbackground-color: #00C300;\r\n\t}\r\n\r\n\t.facebook-button {\r\n\t\tbackground-color: #3F51B5;\r\n\t}\r\n\r\n\t.txt {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #969696;\r\n\t}\r\n\r\n\t.btnicon {\r\n\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t}\r\n\r\n\t.forgetPwd {\r\n\t\tmargin-top: 30rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #b5b5b5;\r\n\t\ttext-align: end;\r\n\t\tpadding: 0 10rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n</style>","import mod from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=style&index=0&id=411ac2c1&scoped=true&lang=css&\"; export default mod; export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=style&index=0&id=411ac2c1&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1735024170043\n      var cssReload = require(\"C:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}