{"version":3,"sources":["uni-app:///main.js","webpack:///H:/work/ybv3前端0126/用户端小程序/pages/index/order-index.vue?c1e0","webpack:///H:/work/ybv3前端0126/用户端小程序/pages/index/order-index.vue?8665","webpack:///H:/work/ybv3前端0126/用户端小程序/pages/index/order-index.vue?bc6e","webpack:///H:/work/ybv3前端0126/用户端小程序/pages/index/order-index.vue?03a5","uni-app:///pages/index/order-index.vue","webpack:///H:/work/ybv3前端0126/用户端小程序/pages/index/order-index.vue?db87","webpack:///H:/work/ybv3前端0126/用户端小程序/pages/index/order-index.vue?6963"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","OrderList","Pay","load","iDefault","data","showloading","tabs","value","name","taIdx","tabIndex","orderMenuIndex","orders","storeOrders","refreshLoading","status","list","params","page","size","state","onLoad","options","onShow","computed","layout","defaultImg","batchInvoiceVisible","methods","init","ident","onPulling","onRefresh","setTimeout","onRestore","console","onAbort","iniline","_this","liffId","liff","redirectUri","profile","linelogin","method","id","rest","fetchData","orderid","type","refresh","nextPage","tClick","i","operation","obj","e","JSON","orderSn","orderType","t","url","rfddcz","msg","pay","handleSwiperItemChange","switchMenuTab"],"mappings":"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","file":"pages/index/order-index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/order-index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./order-index.vue?vue&type=template&id=1bad35ad&scoped=true&\"\nvar renderjs\nimport script from \"./order-index.vue?vue&type=script&lang=js&\"\nexport * from \"./order-index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order-index.vue?vue&type=style&index=0&id=1bad35ad&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1bad35ad\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/order-index.vue\"\nexport default component.exports","export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-index.vue?vue&type=template&id=1bad35ad&scoped=true&\"","var components\ntry {\n  components = {\n    pay: function () {\n      return import(\n        /* webpackChunkName: \"components/pay/pay\" */ \"@/components/pay/pay.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = !_vm.list || _vm.list.length <= 0\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"tabbar\">\r\n\t\t\t<view class=\"item c0 posi-r f-c f-g-1\" v-for=\"(v,i) in tabs\" :key=\"i\" @click=\"tClick(i,v)\"\r\n\t\t\t\t:class=\"{ active: taIdx == i }\"\r\n\t\t\t\t:style=\"{ color: taIdx == i ? tColor:'',borderColor:taIdx == i ? tColor:'',fontWeight:taIdx == i ? 'bold':''}\">\r\n\t\t\t\t{{v.name}}\r\n\t\t\t\t<view class=\"line p-a\" v-if=\"taIdx == i\" :style=\"{background:tColor}\"></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"mt20\">\r\n\t\t\t<scroll-view scroll-y=\"true\" class=\"wh\" style=\"height: 630px;\" :refresher-threshold=\"100/pxToRpxRate\"\r\n\t\t\t\t:refresher-triggered=\"refreshLoading\" refresher-enabled=\"true\" refresher-background=\"#f5f5f5\"\r\n\t\t\t\t@refresherrefresh=\"onRefresh\" @refresherpulling=\"onPulling\" @refresherrestore=\"onRestore\"\r\n\t\t\t\t@refresherabort=\"onAbort\" @scrolltolower=\"nextPage\">\r\n\t\t\t\t<order-list @operation='operation' v-for=\"(v,i) in list\" :key='i' :co='v.subOrder' :v=\"v\"></order-list>\r\n\t\t\t\t<i-default :imgn=\"1\" v-if=\"!list || list.length<=0\" />\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t<pay ref=\"Pay\" @pay=\"pay\"></pay>\r\n\t\t<view class=\"posi-r\">\r\n\t\t\t<tab-bar></tab-bar>\r\n\t\t</view>\r\n\t\t<load v-if=\"showloading\"></load>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tloadLineSDK\r\n\t} from '@/common/line-sdk-loader.js';\r\n\timport OrderList from \"./order/order-list.vue\"\r\n\timport Pay from '@/components/pay/pay.vue'\r\n\timport load from '@/components/common/load.vue'\r\n\timport iDefault from '@/components/common/default.vue'\r\n\timport {\r\n\t\tmapActions,\r\n\t\tmapState\r\n\t} from 'vuex';\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tOrderList,\r\n\t\t\tPay,\r\n\t\t\tload,\r\n\t\t\tiDefault,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowloading: true,\r\n\t\t\t\ttabs: [{\r\n\t\t\t\t\tvalue: 'inStore',\r\n\t\t\t\t\tname: this.$t(\"order-index.store_order\")\r\n\t\t\t\t}, {\r\n\t\t\t\t\tvalue: 'storedValue',\r\n\t\t\t\t\tname: this.$t(\"order-index.stored_value_order\")\r\n\t\t\t\t}, {\r\n\t\t\t\t\tvalue: 'persionPay',\r\n\t\t\t\t\tname: this.$t(\"order-index.pay_the_bill_order\")\r\n\t\t\t\t}, {\r\n\t\t\t\t\tvalue: 'couponPack',\r\n\t\t\t\t\tname: this.$t(\"order-index.coupon_package_order\")\r\n\t\t\t\t}],\r\n\t\t\t\ttaIdx: 0,\r\n\t\t\t\ttabIndex: 0,\r\n\t\t\t\torderMenuIndex: 0,\r\n\t\t\t\torders: [],\r\n\t\t\t\tstoreOrders: [],\r\n\t\t\t\trefreshLoading: true,\r\n\t\t\t\tstatus: 'loading',\r\n\t\t\t\tlist: [],\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tsize: 10,\r\n\t\t\t\t\tstate: 'inStore',\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync onLoad(options) {\r\n\t\t\tthis.init()\r\n\t\t\tthis.freshing = false;\r\n\t\t\tawait this.$store.dispatch('getLoginInfo');\r\n\t\t\tif (options && options.linetype) {\r\n\t\t\t\tawait this.iniline();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tif (this.isload) {\r\n\t\t\t\tthis.refresh()\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tlayout: state => state.layout.index || {},\r\n\t\t\t\tdefaultImg: state => state.layout.defaultImg || [],\r\n\t\t\t}),\r\n\t\t\tbatchInvoiceVisible() {\r\n\t\t\t\treturn (!this.orderMenuIndex && this.orders.length) || (this.orderMenuIndex && this.storeOrders.length)\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapActions([\"getConfig\"]),\r\n\t\t\tasync init() {\r\n\r\n\t\t\t\tawait this.getLayout()\r\n\t\t\t\tawait this.fetchData()\r\n\t\t\t\tthis.isload = true\r\n\t\t\t\tthis.getConfig({\r\n\t\t\t\t\tident: [\"orderSetting\"]\r\n\t\t\t\t})\r\n\t\t\t\tthis.showloading = false\r\n\t\t\t},\r\n\t\t\tonPulling(e) {\r\n\t\t\t\t// console.log(\"onpulling\", e);\r\n\t\t\t},\r\n\t\t\tonRefresh() {\r\n\t\t\t\tif (this.freshing) return;\r\n\t\t\t\tthis.freshing = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.refresh()\r\n\t\t\t\t\tthis.refreshLoading = false;\r\n\t\t\t\t\tthis.freshing = false;\r\n\t\t\t\t}, 500)\r\n\t\t\t},\r\n\t\t\tonRestore() {\r\n\t\t\t\tthis.refreshLoading = 'restore';\r\n\t\t\t\tconsole.log(\"onRestore\");\r\n\t\t\t},\r\n\t\t\tonAbort() {\r\n\t\t\t\t// console.log(\"onAbort\");\r\n\t\t\t},\r\n\t\t\tasync iniline() {\r\n\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tif (!this.$store.state.isLogin) {\r\n\t\t\t\t\t// const currentPage = getCurrentPages().pop();\r\n\t\t\t\t\t// const currentPath =\r\n\t\t\t\t\t// \t`/${currentPage.route}${currentPage.options ? '?' + Object.keys(currentPage.options).map(key => `${key}=${currentPage.options[key]}`).join('&') : ''}`;\r\n\r\n\t\t\t\t\t// console.log(currentPath)\r\n\t\t\t\t\t// console.log(getApp().globalData.siteInfo.siteroot)\r\n\t\t\t\t\t// var url = `${getApp().globalData.siteInfo.siteroot}/h5/#${currentPath}`\r\n\t\t\t\t\t// window.location.href =\r\n\t\t\t\t\t// \t`${getApp().globalData.siteInfo.siteroot}/line/${getApp().globalData.siteInfo.uniacid}?refererUrl=${btoa(url)}`\r\n\r\n\t\t\t\t\t// console.log(url)\r\n\t\t\t\t\t// if (type == 1) {\r\n\t\t\t\t\t// \twindow.location.href =\r\n\t\t\t\t\t// \t\t`${getApp().globalData.siteInfo.siteroot}/line/${getApp().globalData.siteInfo.uniacid}?refererUrl=${btoa(url)}`\r\n\r\n\t\t\t\t\t// \t//window.liff.login();\r\n\t\t\t\t\t// }\r\n\r\n\r\n\t\t\t\t\tlet liffId = getApp().globalData.siteInfo.liffId\r\n\t\t\t\t\tvar _this = this;\r\n\t\t\t\t\tloadLineSDK(liffId).then(async (liff) => {\r\n\t\t\t\t\t\tconsole.log(liff.isLoggedIn())\r\n\t\t\t\t\t\tif (liff) {\r\n\t\t\t\t\t\t\tif (liff.isLoggedIn()) {\r\n\t\t\t\t\t\t\t\treturn liff.getProfile();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn liff.login({\r\n\t\t\t\t\t\t\t\t\tredirectUri: window.location.href\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).then(async profile => {\r\n\t\t\t\t\t\tif (profile && profile.userId) {\r\n\t\t\t\t\t\t\tawait _this.linelogin(profile.userId, profile.displayName)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync linelogin(id, name) {\r\n\t\t\t\tvar rest = await this.util.request({\r\n\t\t\t\t\t'url': this.api.lineLogin,\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: id,\r\n\t\t\t\t\t\tname: name\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tif (rest.data) {\r\n\t\t\t\t\tthis.$store.commit('setUser', rest.data.userInfo);\r\n\t\t\t\t\tthis.$store.commit('setToken', rest.data.token);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync fetchData(type) {\r\n\t\t\t\tvar orderid = uni.getStorageSync('nologin_orderid');\r\n\t\t\t\tif (!this.user.id && orderid) {\r\n\t\t\t\t\tthis.params.orderid = orderid\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.status = 'loading'\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tlist\r\n\t\t\t\t\t}\r\n\t\t\t\t} = await this.util.request({\r\n\t\t\t\t\t'url': this.api.wmxd,\r\n\t\t\t\t\tdata: this.params,\r\n\t\t\t\t})\r\n\t\t\t\tif (type !== 'nextPage' || this.params.page === 1) {\r\n\t\t\t\t\tthis.list = list\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (list.length === 0) {\r\n\t\t\t\t\t\tthis.status = 'nomore'\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.list = this.list.concat(list)\r\n\t\t\t\t}\r\n\t\t\t\tthis.status = 'loadmore'\r\n\t\t\t},\r\n\t\t\tasync refresh() {\r\n\t\t\t\tthis.params.page = 1\r\n\t\t\t\tawait this.fetchData()\r\n\t\t\t},\r\n\t\t\tnextPage() {\r\n\t\t\t\tif (this.status === 'loading') {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.params.page++\r\n\t\t\t\tthis.fetchData('nextPage')\r\n\t\t\t},\r\n\t\t\tasync tClick(i, v) {\r\n\t\t\t\t// if (!await this.checkLogin()) return\r\n\t\t\t\tif (i == this.taIdx) return\r\n\t\t\t\tthis.taIdx = i\r\n\t\t\t\tthis.params.state = v.value\r\n\t\t\t\tthis.refresh()\r\n\t\t\t},\r\n\t\t\tasync operation(e) {\r\n\t\t\t\tthis.orderInfo = e.co\r\n\t\t\t\tthis.operationt = e.t\r\n\t\t\t\tlet obj = {}\r\n\t\t\t\tswitch (e.t) {\r\n\t\t\t\t\tcase 'ljzf':\r\n\t\t\t\t\t\tthis.$refs['Pay'].open(\r\n\t\t\t\t\t\t\tJSON.stringify({\r\n\t\t\t\t\t\t\t\torderSn: e.co.orderSn,\r\n\t\t\t\t\t\t\t\torderType: 1\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'qxdd':\r\n\t\t\t\t\t\tthis.rfddcz(this.$t(\"order-index.confirm_cancel_order\"), 'qxdd', e.co.id)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'sqtk':\r\n\t\t\t\t\t\tawait this.util.modal(this.$t(\"order-index.confirm_apply_refund\"))\r\n\t\t\t\t\t\tthis.go({\r\n\t\t\t\t\t\t\tt: 1,\r\n\t\t\t\t\t\t\turl: `/pages/order/refunddl?id=${e.co.orderSn}&type=1`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'zlyd':\r\n\t\t\t\t\t\tthis.go({\r\n\t\t\t\t\t\t\tt: 6,\r\n\t\t\t\t\t\t\turl: `/pages/index/goods`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync rfddcz(t, a, i) {\r\n\t\t\t\tawait this.util.modal(t)\r\n\t\t\t\tif (!this.jjmbxx) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tawait this.requestSM(['refund'])\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tthis.jjmbxx = true\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet {\r\n\t\t\t\t\tmsg\r\n\t\t\t\t} = await this.util.request({\r\n\t\t\t\t\t'url': `${this.api[a]}/${i}`,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t})\r\n\t\t\t\tthis.util.message(msg, 1, 1000)\r\n\t\t\t\tthis.refresh()\r\n\t\t\t},\r\n\t\t\tpay() {\r\n\t\t\t\tthis.refresh()\r\n\t\t\t},\r\n\t\t\thandleSwiperItemChange() { //禁止手动滑动\r\n\t\t\t\treturn true\r\n\t\t\t},\r\n\t\t\tasync switchMenuTab(index) {\r\n\t\t\t\tif (this.orderMenuIndex === index) return\r\n\t\t\t\tthis.orderMenuIndex = index\r\n\t\t\t\tawait this.getOrders()\r\n\r\n\t\t\t},\r\n\t\t\t// async getOrders() {\r\n\t\t\t// \tif (!this.orderMenuIndex) {\r\n\t\t\t// \t\tthis.orders = await this.$api('orders')\r\n\t\t\t// \t} else {\r\n\t\t\t// \t\tthis.storeOrders = await this.$api('storeOrders')\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\t\t},\r\n\t\t// async onPullDownRefresh() {\r\n\t\t// \tthis.showloading = true\r\n\t\t// \tawait this.refresh()\r\n\t\t// \tthis.showloading = false\r\n\t\t// \tuni.stopPullDownRefresh();\r\n\t\t// },\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t@import './order/order.scss';\r\n</style>","import mod from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-index.vue?vue&type=style&index=0&id=1bad35ad&lang=scss&scoped=true&\"; export default mod; export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-index.vue?vue&type=style&index=0&id=1bad35ad&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1735024170001\n      var cssReload = require(\"C:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}