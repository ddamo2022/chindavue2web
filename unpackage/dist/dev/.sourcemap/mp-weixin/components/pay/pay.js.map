{"version":3,"sources":["webpack:///H:/work/ybv3前端0126/用户端小程序/components/pay/pay.vue?36c7","webpack:///H:/work/ybv3前端0126/用户端小程序/components/pay/pay.vue?19f2","webpack:///H:/work/ybv3前端0126/用户端小程序/components/pay/pay.vue?431d","webpack:///H:/work/ybv3前端0126/用户端小程序/components/pay/pay.vue?3689","uni-app:///components/pay/pay.vue","webpack:///H:/work/ybv3前端0126/用户端小程序/components/pay/pay.vue?fbce","webpack:///H:/work/ybv3前端0126/用户端小程序/components/pay/pay.vue?ad9e"],"names":["name","components","props","visible","type","default","data","loading","radioVal","payArr","payObj","payDataObj","yeczrule","computed","pmoney","methods","open","uni","service","success","czOpen","method","mask","jfOpen","value","img","isDefault","id","balance","console","close","radioChange","getPayArr","detail","formSubmit","orderSn","orderType","payId","t","url","ctx","setTimeout","gUser","nomask","get","now","cPay"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4H;AAC5H;AACuD;AACL;AACsC;;;AAGxF;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oPAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzDA;AAAA;AAAA;AAAA;AAA6lB,CAAgB,unBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACkDjnB;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAHA;AAAA,eAMA;EACAA;EACAC,aAEA;EACAC;IACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;EACA;EACAC;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;cAAA;gBAGAC;kBACAC;kBACAC;oBACA;sBACA;oBACA;sBACA;oBACA;sBACA;oBACA;sBACA;oBACA;kBACA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBAAA;gBAAA,OAGA;kBACA;kBACAC;kBACAC;gBACA;cAAA;gBAAA;gBALAhB;gBAMA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAiB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBACA;gBACAd,aACAH;gBACA;kBACA;oBACA;oBACAG;sBACAT;sBACAwB;sBACAC;sBACAC;sBACAC;sBACAC;oBACA;kBACA;kBACA;oBACA;oBACAnB;sBACAT;sBACAwB;sBACAC;sBACAC;sBACAC;oBACA;kBACA;kBACA;oBACA;oBACAlB;sBACAT;sBACAwB;sBACAC;sBACAC;sBACAC;oBACA;kBACA;kBAEA;oBACA;oBACAlB;sBACAT;sBACAwB;sBACAC;sBACAC;sBACAC;oBACA;kBACA;gBACA;gBACA;gBACAE;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAsBA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;QAAA;MAAA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAGA;kBACA;kBACAX;kBACAC;gBACA;cAAA;gBAAA;gBALAhB;gBAMA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBACAG;gBACA;kBACA;oBACA;oBACAA;sBACAT;sBACAwB;sBACAC;sBACAC;sBACAC;sBACAC;oBACA;kBACA;kBACA;oBACA;oBACAnB;sBACAT;sBACAwB;sBACAC;sBACAC;sBACAC;oBACA;kBACA;kBACA;oBACA;oBACAlB;sBACAT;sBACAwB;sBACAC;sBACAC;sBACAC;oBACA;kBACA;kBACA;oBACA;oBAEAlB;sBACAT;sBACAwB;sBACAC;sBACAC;sBACAC;oBACA;kBAWA;gBACA;gBACA;gBAEA;kBACAM;oBACAT;sBAAA;oBAAA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAU;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAGAC;gBACAC;gBACAC;gBACA;kBACAC;kBACAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IA0CA;IACAC;MAAA;MACAC;QACA;UACAH;UACAC;QACA;MACA;IACA;IACAG;MACA;QACA;UACAC;UACAC;UACAC;QACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAGA;kBACAP;gBACA;cAAA;gBAAA;gBAHAjC;gBAIAuB;gBACA;kBACA;kBACA;kBACA;gBACA;kBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC3WA;AAAA;AAAA;AAAA;AAAgqC,CAAgB,soCAAG,EAAC,C;;;;;;;;;;;ACAprC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/pay/pay.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./pay.vue?vue&type=template&id=3d1f12d6&scoped=true&\"\nvar renderjs\nimport script from \"./pay.vue?vue&type=script&lang=js&\"\nexport * from \"./pay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pay.vue?vue&type=style&index=0&id=3d1f12d6&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d1f12d6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/pay/pay.vue\"\nexport default component.exports","export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./pay.vue?vue&type=template&id=3d1f12d6&scoped=true&\"","var components\ntry {\n  components = {\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.$t(\"pay.confirm_payment\")\n  var l0 = _vm.__map(_vm.payArr, function (v, i) {\n    var $orig = _vm.__get_orig(v)\n    var m1 = v.value == \"ye\" ? _vm.$t(\"pay.available\") : null\n    var m2 = v.value == \"ye\" ? parseFloat(v.balance) : null\n    return {\n      $orig: $orig,\n      m1: m1,\n      m2: m2,\n    }\n  })\n  var g0 = _vm.payArr.length\n  var m3 = g0 ? _vm.$t(\"pay.pay\") : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        l0: l0,\n        g0: g0,\n        m3: m3,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./pay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./pay.vue?vue&type=script&lang=js&\"","<template>\r\n\t<uni-popup ref=\"popup\" type=\"bottom\">\r\n\t\t<view class=\"bs30 bf\">\r\n\t\t\t<view class=\"tit p-r f-c\">\r\n\t\t\t\t<view class=\"f32 wei\">{{$t(\"pay.confirm_payment\")}}</view>\r\n\t\t\t\t<text class=\"p-a cIcon iconfont icon-guanbi c6 f36\" @click=\"close\"></text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"p3\">\r\n\t\t\t\t<form @submit=\"formSubmit\">\r\n\t\t\t\t\t<view class=\"payOptions\">\r\n\t\t\t\t\t\t<radio-group name='radiogroup' @change=\"radioChange\">\r\n\t\t\t\t\t\t\t<label class=\"weui-cell right30 f-s mb30 bf\" v-for='(v,i) in payArr' :key='i'>\r\n\t\t\t\t\t\t\t\t<view class=\"f-y-c\">\r\n\t\t\t\t\t\t\t\t\t<image class='hdimg' mode='aspectFit' :src='v.img'></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"weui-cell__bd\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"f-row\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"f34 f-1 l-n\">{{v.name}}\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"c9 f24 ml10 neutra-font\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"v.value=='ye'\">({{$t(\"pay.available\")}}:฿{{parseFloat(v.balance)}})</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"weui-cell__ft_in-radio\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <text class=\"iconfont f40\" :class=\"v.value == radioVal?'icon-gx':'icon-wgx'\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:style=\"{color:v.value == radioVal?v.color||tColor:''}\"></text> -->\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"yuan f-c\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:style=\"{backgroundColor:v.value == radioVal?v.color||tColor:'',borderColor:v.value == radioVal?v.color||tColor:''}\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"iconfont f20 icon-gou wei\" v-if=\"v.value == radioVal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:style=\"{color:v.value == radioVal?fontColor:''}\"></text>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<radio :value=\"v.value\" color=\"#F98811\" :checked=\"v.value == radioVal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"weui-check\" />\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</radio-group>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"payArr.length\" class=\"\">\r\n\t\t\t\t\t\t<button :style=\"{backgroundColor:tColor,color:fontColor}\" :disabled=\"loading\" :loading=\"loading\"\r\n\t\t\t\t\t\t\tform-type=\"submit\" class=\"foot-btn bs60 f30 wei cf\">{{$t(\"pay.pay\")}}<text\r\n\t\t\t\t\t\t\t\tclass=\"neutra-font ml10\">{{pmoney}}</text>THB</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</form>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</uni-popup>\r\n</template>\r\n\r\n<script>\r\n\t// import uniPopup from '@/components/uni-popup/uni-popup.vue'\r\n\timport utils from '@/common/utils.js'\r\n\timport api from '@/common/api'\r\n\timport {\r\n\t\tchooseAliPay\r\n\t} from \"@/common/wechat-util\"\r\n\texport default {\r\n\t\tname: 'payMoney',\r\n\t\tcomponents: {\r\n\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tvisible: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tradioVal: 'ye',\r\n\t\t\t\tpayArr: [],\r\n\t\t\t\tpayObj: {},\r\n\t\t\t\tpayDataObj: {},\r\n\t\t\t\tyeczrule: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tpmoney() {\r\n\t\t\t\treturn Number(this.payDataObj && this.payDataObj.money || 0).toFixed(2)\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync open(payObj) {\r\n\t\t\t\tthis.gUser()\r\n\t\t\t\tthis.payObj = JSON.parse(payObj)\r\n\t\t\t\tawait this.getPayArr()\r\n\t\t\t\tif (this.payDataObj && this.payDataObj.money <= 0) {\r\n\t\t\t\t\tthis.formSubmit('zero')\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tuni.getProvider({\r\n\t\t\t\t\tservice: 'payment',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.provider.indexOf('wxpay')) {\r\n\t\t\t\t\t\t\tthis.provider = 'wxpay'\r\n\t\t\t\t\t\t} else if (res.provider.indexOf('alipay')) {\r\n\t\t\t\t\t\t\tthis.provider = 'alipay'\r\n\t\t\t\t\t\t} else if (res.provider.indexOf('baidu')) {\r\n\t\t\t\t\t\t\tthis.provider = 'baidu'\r\n\t\t\t\t\t\t} else if (res.provider.indexOf('toutiao')) {\r\n\t\t\t\t\t\t\tthis.provider = 'toutiao'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis.$refs['popup'].open()\r\n\t\t\t},\r\n\t\t\tasync czOpen(payObj) {\r\n\t\t\t\tthis.gUser()\r\n\t\t\t\tthis.payObj = JSON.parse(payObj)\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.util.request({\r\n\t\t\t\t\t'url': `${this.api.pay}/${this.payObj.orderSn}`,\r\n\t\t\t\t\tmethod: 'get',\r\n\t\t\t\t\tmask: 1\r\n\t\t\t\t})\r\n\t\t\t\tthis.payDataObj = data\r\n\t\t\t\tthis.payObj.payId = data.payList && data.payList[0].id\r\n\t\t\t\tthis.formSubmit('cz')\r\n\t\t\t},\r\n\t\t\tasync jfOpen(payObj, pay) {\r\n\t\t\t\tthis.gUser()\r\n\t\t\t\tthis.payObj = JSON.parse(payObj)\r\n\t\t\t\tthis.payDataObj = JSON.parse(pay)\r\n\t\t\t\tlet payArr = [],\r\n\t\t\t\t\tdata = JSON.parse(pay)\r\n\t\t\t\tfor (let i = 0; i < data.payList.length; i++) {\r\n\t\t\t\t\tif (data.payList[i].payType == 'balance') {\r\n\t\t\t\t\t\tthis.payObj.payId = data.payList[i].id\r\n\t\t\t\t\t\tpayArr.push({\r\n\t\t\t\t\t\t\tname: this.$t(\"pay.balance_payment\"),\r\n\t\t\t\t\t\t\tvalue: 'ye',\r\n\t\t\t\t\t\t\timg: `${this.onImgurl}pay/yezf.png`,\r\n\t\t\t\t\t\t\tisDefault: data.payList[i].isDefault,\r\n\t\t\t\t\t\t\tid: data.payList[i].id,\r\n\t\t\t\t\t\t\tbalance: data.payList[i].balance,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (data.payList[i].payType == 'weixin') {\r\n\t\t\t\t\t\tthis.payObj.payId = data.payList[i].id\r\n\t\t\t\t\t\tpayArr.push({\r\n\t\t\t\t\t\t\tname: this.$t(\"pay.wechat_payment\"),\r\n\t\t\t\t\t\t\tvalue: 'wx',\r\n\t\t\t\t\t\t\timg: `${this.onImgurl}pay/wxzf.png`,\r\n\t\t\t\t\t\t\tisDefault: data.payList[i].isDefault,\r\n\t\t\t\t\t\t\tid: data.payList[i].id,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (data.payList[i].payType == 'alipay') {\r\n\t\t\t\t\t\tthis.payObj.payId = data.payList[i].id\r\n\t\t\t\t\t\tpayArr.push({\r\n\t\t\t\t\t\t\tname: this.$t(\"pay.alipay_payment\"),\r\n\t\t\t\t\t\t\tvalue: 'zfb',\r\n\t\t\t\t\t\t\timg: `${this.onImgurl}pay/zfbzf.png`,\r\n\t\t\t\t\t\t\tisDefault: data.payList[i].isDefault,\r\n\t\t\t\t\t\t\tid: data.payList[i].id,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (data.payList[i].payType == 'ksher') {\r\n\t\t\t\t\t\tthis.payObj.payId = data.payList[i].id\r\n\t\t\t\t\t\tpayArr.push({\r\n\t\t\t\t\t\t\tname: 'ksher',\r\n\t\t\t\t\t\t\tvalue: 'ksher',\r\n\t\t\t\t\t\t\timg: `${this.onImgurl}pay/wxzf.png`,\r\n\t\t\t\t\t\t\tisDefault: data.payList[i].isDefault,\r\n\t\t\t\t\t\t\tid: data.payList[i].id,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.payArr = payArr\r\n\t\t\t\tconsole.log(payArr)\r\n\t\t\t\treturn\r\n\t\t\t\tthis.radioChange({\r\n\t\t\t\t\tdetail: {\r\n\t\t\t\t\t\tvalue: payArr.find(v => v.isDefault == 1).value\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tuni.getProvider({\r\n\t\t\t\t\tservice: 'payment',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.provider.indexOf('wxpay')) {\r\n\t\t\t\t\t\t\tthis.provider = 'wxpay'\r\n\t\t\t\t\t\t} else if (res.provider.indexOf('alipay')) {\r\n\t\t\t\t\t\t\tthis.provider = 'alipay'\r\n\t\t\t\t\t\t} else if (res.provider.indexOf('baidu')) {\r\n\t\t\t\t\t\t\tthis.provider = 'baidu'\r\n\t\t\t\t\t\t} else if (res.provider.indexOf('toutiao')) {\r\n\t\t\t\t\t\t\tthis.provider = 'toutiao'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis.$refs['popup'].open()\r\n\t\t\t},\r\n\t\t\tclose() {\r\n\t\t\t\tthis.$emit('pay')\r\n\t\t\t\tthis.loading = false\r\n\t\t\t\tthis.$refs['popup'].close()\r\n\t\t\t},\r\n\t\t\tradioChange(e) {\r\n\t\t\t\tthis.radioVal = e.detail.value\r\n\t\t\t\tlet item = this.payArr.find(v => v.value == e.detail.value)\r\n\t\t\t\tthis.payObj.payId = item.id\r\n\t\t\t},\r\n\t\t\tasync getPayArr() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.util.request({\r\n\t\t\t\t\t'url': `${this.api.pay}/${this.payObj.orderSn}`,\r\n\t\t\t\t\tmethod: 'get',\r\n\t\t\t\t\tmask: 1\r\n\t\t\t\t})\r\n\t\t\t\tthis.payDataObj = data\r\n\t\t\t\tif (this.payDataObj && this.payDataObj.money <= 0) return\r\n\t\t\t\tlet payArr = []\r\n\t\t\t\tfor (let i = 0; i < data.payList.length; i++) {\r\n\t\t\t\t\tif (data.payList[i].payType == 'balance') {\r\n\t\t\t\t\t\tthis.payObj.payId = data.payList[i].id\r\n\t\t\t\t\t\tpayArr.push({\r\n\t\t\t\t\t\t\tname: this.$t(\"pay.balance_payment\"),\r\n\t\t\t\t\t\t\tvalue: 'ye',\r\n\t\t\t\t\t\t\timg: `${this.onImgurl}pay/yezf.png`,\r\n\t\t\t\t\t\t\tisDefault: data.payList[i].isDefault,\r\n\t\t\t\t\t\t\tid: data.payList[i].id,\r\n\t\t\t\t\t\t\tbalance: data.payList[i].balance,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (data.payList[i].payType == 'weixin') {\r\n\t\t\t\t\t\tthis.payObj.payId = data.payList[i].id\r\n\t\t\t\t\t\tpayArr.push({\r\n\t\t\t\t\t\t\tname: this.$t(\"pay.wechat_payment\"),\r\n\t\t\t\t\t\t\tvalue: 'wx',\r\n\t\t\t\t\t\t\timg: `${this.onImgurl}pay/wxzf.png`,\r\n\t\t\t\t\t\t\tisDefault: data.payList[i].isDefault,\r\n\t\t\t\t\t\t\tid: data.payList[i].id,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (data.payList[i].payType == 'alipay') {\r\n\t\t\t\t\t\tthis.payObj.payId = data.payList[i].id\r\n\t\t\t\t\t\tpayArr.push({\r\n\t\t\t\t\t\t\tname: this.$t(\"pay.alipay_payment\"),\r\n\t\t\t\t\t\t\tvalue: 'zfb',\r\n\t\t\t\t\t\t\timg: `${this.onImgurl}pay/zfbzf.png`,\r\n\t\t\t\t\t\t\tisDefault: data.payList[i].isDefault,\r\n\t\t\t\t\t\t\tid: data.payList[i].id,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (data.payList[i].payType == 'ksher') {\r\n\t\t\t\t\t\tthis.payObj.payId = data.payList[i].id\r\n\t\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\t\t\tpayArr.push({\r\n\t\t\t\t\t\t\t\tname: 'promptpay',\r\n\t\t\t\t\t\t\t\tvalue: 'promptpay',\r\n\t\t\t\t\t\t\t\timg: `${this.onImgurl}pay/promptpay.png`,\r\n\t\t\t\t\t\t\t\tisDefault: data.payList[i].isDefault,\r\n\t\t\t\t\t\t\t\tid: data.payList[i].id,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t   // #endif\r\n\t\t\t\t\t   // #ifndef MP-WEIXIN\r\n\t\t\t\t\t\t\tpayArr.push({\r\n\t\t\t\t\t\t\t\tname: 'ksher',\r\n\t\t\t\t\t\t\t\tvalue: 'ksher',\r\n\t\t\t\t\t\t\t\timg: `${this.onImgurl}pay/ksher.png`,\r\n\t\t\t\t\t\t\t\tisDefault: data.payList[i].isDefault,\r\n\t\t\t\t\t\t\t\tid: data.payList[i].id,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t   // #endif\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.payArr = payArr\r\n\r\n\t\t\t\tthis.radioChange({\r\n\t\t\t\t\tdetail: {\r\n\t\t\t\t\t\tvalue: payArr.find(v => v.isDefault == 1).value\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync formSubmit(e) {\r\n\t\t\t \r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\tvar orderSn=this.payObj.orderSn\r\n\t\t\t\t\tvar orderType=this.payObj.orderType\r\n\t\t\t\t\tvar payId=this.payObj.payId\r\n\t\t\t\t\tthis.go({\r\n\t\t\t\t\t\tt: 1,\r\n\t\t\t\t\t\turl: `/pages/order/promptpay?orderSn=${orderSn}&orderType=${orderType}&payId=${payId}`\r\n\t\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef  H5\r\n\t\t\t\tif (this.payObj && this.payObj.orderType == 'jfsc') {\r\n\t\t\t\t\tawait this.util.request({\r\n\t\t\t\t\t\turl: this.api.jfsplb,\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tct: 1,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tawait this.$emit('zfPay')\r\n\t\t\t\t}\r\n\t\t\t\tlet payObj = this.payObj = utils.deepCopy(this.payObj)\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\tlet payres = await this.util.request({\r\n\t\t\t\t\t'url': this.api.orderPay,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tmask: 1,\r\n\t\t\t\t\tdata: payObj,\r\n\t\t\t\t})\r\n\t\t\t\tif (payres) {\r\n\t\t\t\t\t//console.log(payres.data.pay_content)\r\n\t\t\t\t\tif (e.detail && e.detail.value.radiogroup != 'ye' || e == 'cz') {\r\n\t\t\t\t\t\tconsole.log('112')\r\n\t\t\t\t\t\tif (payres.data) {\r\n\t\t\t\t\t\t\tconsole.log(payres.data.pay_content)\r\n\t\t\t\t\t\t\twindow.location = payres.data.pay_content\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.util.message(payres.msg, payres.data ? 1 : 2)\r\n\t\t\t\t\t\tthis.ctx()\r\n\t\t\t\t\t\tthis.close()\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t// this.close()\r\n\t\t\t\t\t// setTimeout(() => {\r\n\t\t\t\t\t// \tthis.go({\r\n\t\t\t\t\t// \t\tt: 4\r\n\t\t\t\t\t// \t})\r\n\t\t\t\t\t// }, 900)\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tctx() {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.go({\r\n\t\t\t\t\t\tt: this.payObj.go && this.payObj.go.t,\r\n\t\t\t\t\t\turl: this.payObj.go && this.payObj.go.url\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 500)\r\n\t\t\t},\r\n\t\t\tgUser() {\r\n\t\t\t\tif (this.uId) {\r\n\t\t\t\t\tthis.refreshUser({\r\n\t\t\t\t\t\tnomask: 1,\r\n\t\t\t\t\t\tget: 1,\r\n\t\t\t\t\t\tnow: 1,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync cPay(cp) {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.util.request({\r\n\t\t\t\t\turl: `${this.api.pQuery}/${this.payObj.orderSn}`\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log('data', data)\r\n\t\t\t\tif (data && data.state >= 2) {\r\n\t\t\t\t\tthis.util.message('支付成功', 1)\r\n\t\t\t\t\tthis.ctx()\r\n\t\t\t\t\tthis.close()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.util.message('支付失败', 3)\r\n\t\t\t\t\tthis.close()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.tit {\r\n\t\tbackground: #F2F0F3;\r\n\t\theight: 100rpx;\r\n\r\n\t\t.cIcon {\r\n\t\t\ttop: 26rpx;\r\n\t\t\tright: 30rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.weui-cell {\r\n\t\tpadding: 40rpx 35rpx 40rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t}\r\n\r\n\t.weui-cell-hover {\r\n\t\tborder: 2rpx solid #F98811;\r\n\t\tbackground: linear-gradient(180deg, #FBF4E2, #F9EED8);\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.weui-cell:last-child:after {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.weui-cell__bd {\r\n\t\t-webkit-box-flex: 1;\r\n\t\t-webkit-flex: 1;\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.weui-cell:after {\r\n\t\tleft: 112rpx;\r\n\t}\r\n\r\n\t.hdimg {\r\n\t\twidth: 49rpx;\r\n\t\theight: 49rpx;\r\n\t\tmargin-right: 30rpx;\r\n\t}\r\n\r\n\t.right30::after {\r\n\t\tright: 30rpx;\r\n\t}\r\n\r\n\t.foot-btn {\r\n\t\tbackground: $bg-primary;\r\n\t}\r\n\r\n\t.yuan {\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tborder: 2rpx solid #ccc;\r\n\t\tz-index: 10;\r\n\t}\r\n</style>","import mod from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./pay.vue?vue&type=style&index=0&id=3d1f12d6&scoped=true&lang=scss&\"; export default mod; export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./pay.vue?vue&type=style&index=0&id=3d1f12d6&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1735024170567\n      var cssReload = require(\"C:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}